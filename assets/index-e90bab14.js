(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ug(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qh={exports:{}},Ro={},Yh={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),Bg=Symbol.for("react.portal"),Wg=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),qg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),Kg=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),qc=Symbol.iterator;function Zg(t){return t===null||typeof t!="object"?null:(t=qc&&t[qc]||t["@@iterator"],typeof t=="function"?t:null)}var Kh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xh=Object.assign,Zh={};function Ur(t,e,n){this.props=t,this.context=e,this.refs=Zh,this.updater=n||Kh}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jh(){}Jh.prototype=Ur.prototype;function au(t,e,n){this.props=t,this.context=e,this.refs=Zh,this.updater=n||Kh}var uu=au.prototype=new Jh;uu.constructor=au;Xh(uu,Ur.prototype);uu.isPureReactComponent=!0;var Gc=Array.isArray,ef=Object.prototype.hasOwnProperty,cu={current:null},tf={key:!0,ref:!0,__self:!0,__source:!0};function nf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ef.call(e,r)&&!tf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ji,type:t,key:s,ref:o,props:i,_owner:cu.current}}function Jg(t,e){return{$$typeof:Ji,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function du(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ji}function ey(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qc=/\/+/g;function al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ey(""+t.key):e.toString(36)}function Rs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ji:case Bg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+al(o,0):r,Gc(i)?(n="",t!=null&&(n=t.replace(Qc,"$&/")+"/"),Rs(i,e,n,"",function(u){return u})):i!=null&&(du(i)&&(i=Jg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+al(s,l);o+=Rs(s,e,n,a,i)}else if(a=Zg(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+al(s,l++),o+=Rs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hs(t,e,n){if(t==null)return t;var r=[],i=0;return Rs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ty(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var We={current:null},Ds={transition:null},ny={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:cu};function rf(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:hs,forEach:function(t,e,n){hs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hs(t,function(){e++}),e},toArray:function(t){return hs(t,function(e){return e})||[]},only:function(t){if(!du(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Ur;B.Fragment=Wg;B.Profiler=Vg;B.PureComponent=au;B.StrictMode=$g;B.Suspense=Yg;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;B.act=rf;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ef.call(e,a)&&!tf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ji,type:t.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(t){return t={$$typeof:Gg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qg,_context:t},t.Consumer=t};B.createElement=nf;B.createFactory=function(t){var e=nf.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Qg,render:t}};B.isValidElement=du;B.lazy=function(t){return{$$typeof:Xg,_payload:{_status:-1,_result:t},_init:ty}};B.memo=function(t,e){return{$$typeof:Kg,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Ds.transition;Ds.transition={};try{t()}finally{Ds.transition=e}};B.unstable_act=rf;B.useCallback=function(t,e){return We.current.useCallback(t,e)};B.useContext=function(t){return We.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return We.current.useDeferredValue(t)};B.useEffect=function(t,e){return We.current.useEffect(t,e)};B.useId=function(){return We.current.useId()};B.useImperativeHandle=function(t,e,n){return We.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return We.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return We.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return We.current.useMemo(t,e)};B.useReducer=function(t,e,n){return We.current.useReducer(t,e,n)};B.useRef=function(t){return We.current.useRef(t)};B.useState=function(t){return We.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return We.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return We.current.useTransition()};B.version="18.3.1";Yh.exports=B;var ce=Yh.exports;const ry=Ug(ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=ce,sy=Symbol.for("react.element"),oy=Symbol.for("react.fragment"),ly=Object.prototype.hasOwnProperty,ay=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uy={key:!0,ref:!0,__self:!0,__source:!0};function sf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ly.call(e,r)&&!uy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sy,type:t,key:s,ref:o,props:i,_owner:ay.current}}Ro.Fragment=oy;Ro.jsx=sf;Ro.jsxs=sf;Qh.exports=Ro;var y=Qh.exports,Ql={},of={exports:{}},rt={},lf={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,D){var F=N.length;N.push(D);e:for(;0<F;){var ae=F-1>>>1,ve=N[ae];if(0<i(ve,D))N[ae]=D,N[F]=ve,F=ae;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],F=N.pop();if(F!==D){N[0]=F;e:for(var ae=0,ve=N.length,Xn=ve>>>1;ae<Xn;){var bt=2*(ae+1)-1,ht=N[bt],Ae=bt+1,kn=N[Ae];if(0>i(ht,F))Ae<ve&&0>i(kn,ht)?(N[ae]=kn,N[Ae]=F,ae=Ae):(N[ae]=ht,N[bt]=F,ae=bt);else if(Ae<ve&&0>i(kn,F))N[ae]=kn,N[Ae]=F,ae=Ae;else break e}}return D}function i(N,D){var F=N.sortIndex-D.sortIndex;return F!==0?F:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,d=null,c=3,g=!1,v=!1,L=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(u)}}function w(N){if(L=!1,m(N),!v)if(n(a)!==null)v=!0,Yr(T);else{var D=n(u);D!==null&&Sn(w,D.startTime-N)}}function T(N,D){v=!1,L&&(L=!1,p(x),x=-1),g=!0;var F=c;try{for(m(D),d=n(a);d!==null&&(!(d.expirationTime>D)||N&&!X());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,c=d.priorityLevel;var ve=ae(d.expirationTime<=D);D=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(a)&&r(a),m(D)}else r(a);d=n(a)}if(d!==null)var Xn=!0;else{var bt=n(u);bt!==null&&Sn(w,bt.startTime-D),Xn=!1}return Xn}finally{d=null,c=F,g=!1}}var k=!1,_=null,x=-1,O=5,I=-1;function X(){return!(t.unstable_now()-I<O)}function re(){if(_!==null){var N=t.unstable_now();I=N;var D=!0;try{D=_(!0,N)}finally{D?En():(k=!1,_=null)}}else k=!1}var En;if(typeof f=="function")En=function(){f(re)};else if(typeof MessageChannel<"u"){var cs=new MessageChannel,ol=cs.port2;cs.port1.onmessage=re,En=function(){ol.postMessage(null)}}else En=function(){b(re,0)};function Yr(N){_=N,k||(k=!0,En())}function Sn(N,D){x=b(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Yr(T))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(c){case 1:case 2:case 3:var D=3;break;default:D=c}var F=c;c=D;try{return N()}finally{c=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=c;c=N;try{return D()}finally{c=F}},t.unstable_scheduleCallback=function(N,D,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,N){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,N={id:h++,callback:D,priorityLevel:N,startTime:F,expirationTime:ve,sortIndex:-1},F>ae?(N.sortIndex=F,e(u,N),n(a)===null&&N===n(u)&&(L?(p(x),x=-1):L=!0,Sn(w,F-ae))):(N.sortIndex=ve,e(a,N),v||g||(v=!0,Yr(T))),N},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(N){var D=c;return function(){var F=c;c=D;try{return N.apply(this,arguments)}finally{c=F}}}})(af);lf.exports=af;var cy=lf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=ce,nt=cy;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uf=new Set,ki={};function Gn(t,e){Ir(t,e),Ir(t+"Capture",e)}function Ir(t,e){for(ki[t]=e,t=0;t<e.length;t++)uf.add(e[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,hy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Kc={};function fy(t){return Yl.call(Kc,t)?!0:Yl.call(Yc,t)?!1:hy.test(t)?Kc[t]=!0:(Yc[t]=!0,!1)}function py(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function my(t,e,n,r){if(e===null||typeof e>"u"||py(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var hu=/[\-:]([a-z])/g;function fu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hu,fu);De[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hu,fu);De[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hu,fu);De[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function pu(t,e,n,r){var i=De.hasOwnProperty(e)?De[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(my(e,n,i,r)&&(n=null),r||i===null?fy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yt=dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),df=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),yu=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),hf=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function Kr(t){return t===null||typeof t!="object"?null:(t=Xc&&t[Xc]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,ul;function ai(t){if(ul===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ul=e&&e[1]||""}return`
`+ul+t}var cl=!1;function dl(t,e){if(!t||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ai(t):""}function gy(t){switch(t.tag){case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return t=dl(t.type,!1),t;case 11:return t=dl(t.type.render,!1),t;case 1:return t=dl(t.type,!0),t;default:return""}}function Jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rr:return"Fragment";case nr:return"Portal";case Kl:return"Profiler";case mu:return"StrictMode";case Xl:return"Suspense";case Zl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case df:return(t.displayName||"Context")+".Consumer";case cf:return(t._context.displayName||"Context")+".Provider";case gu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yu:return e=t.displayName||null,e!==null?e:Jl(t.type)||"Memo";case Zt:e=t._payload,t=t._init;try{return Jl(t(e))}catch{}}return null}function yy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(e);case 8:return e===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ff(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vy(t){var e=ff(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ps(t){t._valueTracker||(t._valueTracker=vy(t))}function pf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ff(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ea(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mf(t,e){e=e.checked,e!=null&&pu(t,"checked",e,!1)}function ta(t,e){mf(t,e);var n=yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?na(t,e.type,n):e.hasOwnProperty("defaultValue")&&na(t,e.type,yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function na(t,e,n){(e!=="number"||Ws(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ui=Array.isArray;function mr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ra(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ed(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(ui(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yn(n)}}function gf(t,e){var n=yn(e.value),r=yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function td(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ms,vf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ii(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_y=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(t){_y.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hi[e]=hi[t]})});function _f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hi.hasOwnProperty(t)&&hi[t]?(""+e).trim():e+"px"}function Lf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_f(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ly=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(t,e){if(e){if(Ly[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function oa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function vu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var aa=null,gr=null,yr=null;function nd(t){if(t=ns(t)){if(typeof aa!="function")throw Error(C(280));var e=t.stateNode;e&&(e=zo(e),aa(t.stateNode,t.type,e))}}function wf(t){gr?yr?yr.push(t):yr=[t]:gr=t}function Cf(){if(gr){var t=gr,e=yr;if(yr=gr=null,nd(t),e)for(t=0;t<e.length;t++)nd(e[t])}}function xf(t,e){return t(e)}function Ef(){}var hl=!1;function Sf(t,e,n){if(hl)return t(e,n);hl=!0;try{return xf(t,e,n)}finally{hl=!1,(gr!==null||yr!==null)&&(Ef(),Cf())}}function Ti(t,e){var n=t.stateNode;if(n===null)return null;var r=zo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var ua=!1;if(Wt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{ua=!1}function wy(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var fi=!1,$s=null,Vs=!1,ca=null,Cy={onError:function(t){fi=!0,$s=t}};function xy(t,e,n,r,i,s,o,l,a){fi=!1,$s=null,wy.apply(Cy,arguments)}function Ey(t,e,n,r,i,s,o,l,a){if(xy.apply(this,arguments),fi){if(fi){var u=$s;fi=!1,$s=null}else throw Error(C(198));Vs||(Vs=!0,ca=u)}}function Qn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rd(t){if(Qn(t)!==t)throw Error(C(188))}function Sy(t){var e=t.alternate;if(!e){if(e=Qn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rd(i),t;if(s===r)return rd(i),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function If(t){return t=Sy(t),t!==null?Tf(t):null}function Tf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tf(t);if(e!==null)return e;t=t.sibling}return null}var Nf=nt.unstable_scheduleCallback,id=nt.unstable_cancelCallback,ky=nt.unstable_shouldYield,Iy=nt.unstable_requestPaint,ye=nt.unstable_now,Ty=nt.unstable_getCurrentPriorityLevel,_u=nt.unstable_ImmediatePriority,Pf=nt.unstable_UserBlockingPriority,qs=nt.unstable_NormalPriority,Ny=nt.unstable_LowPriority,Rf=nt.unstable_IdlePriority,Do=null,Pt=null;function Py(t){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Do,t,void 0,(t.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:by,Ry=Math.log,Dy=Math.LN2;function by(t){return t>>>=0,t===0?32:31-(Ry(t)/Dy|0)|0}var gs=64,ys=4194304;function ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ci(l):(s&=o,s!==0&&(r=ci(s)))}else o=n&~i,o!==0?r=ci(o):s!==0&&(r=ci(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ct(e),i=1<<n,r|=t[n],e&=~i;return r}function Ay(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ct(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Ay(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function da(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Df(){var t=gs;return gs<<=1,!(gs&4194240)&&(gs=64),t}function fl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function es(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ct(e),t[e]=n}function zy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ct(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ct(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Q=0;function bf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Af,wu,Mf,zf,Of,ha=!1,vs=[],on=null,ln=null,an=null,Ni=new Map,Pi=new Map,en=[],Oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sd(t,e){switch(t){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(e.pointerId)}}function Zr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ns(e),e!==null&&wu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fy(t,e,n,r,i){switch(e){case"focusin":return on=Zr(on,t,e,n,r,i),!0;case"dragenter":return ln=Zr(ln,t,e,n,r,i),!0;case"mouseover":return an=Zr(an,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ni.set(s,Zr(Ni.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pi.set(s,Zr(Pi.get(s)||null,t,e,n,r,i)),!0}return!1}function Ff(t){var e=Rn(t.target);if(e!==null){var n=Qn(e);if(n!==null){if(e=n.tag,e===13){if(e=kf(n),e!==null){t.blockedOn=e,Of(t.priority,function(){Mf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);la=r,n.target.dispatchEvent(r),la=null}else return e=ns(n),e!==null&&wu(e),t.blockedOn=n,!1;e.shift()}return!0}function od(t,e,n){bs(t)&&n.delete(e)}function jy(){ha=!1,on!==null&&bs(on)&&(on=null),ln!==null&&bs(ln)&&(ln=null),an!==null&&bs(an)&&(an=null),Ni.forEach(od),Pi.forEach(od)}function Jr(t,e){t.blockedOn===e&&(t.blockedOn=null,ha||(ha=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,jy)))}function Ri(t){function e(i){return Jr(i,t)}if(0<vs.length){Jr(vs[0],t);for(var n=1;n<vs.length;n++){var r=vs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(on!==null&&Jr(on,t),ln!==null&&Jr(ln,t),an!==null&&Jr(an,t),Ni.forEach(e),Pi.forEach(e),n=0;n<en.length;n++)r=en[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)Ff(n),n.blockedOn===null&&en.shift()}var vr=Yt.ReactCurrentBatchConfig,Qs=!0;function Hy(t,e,n,r){var i=Q,s=vr.transition;vr.transition=null;try{Q=1,Cu(t,e,n,r)}finally{Q=i,vr.transition=s}}function Uy(t,e,n,r){var i=Q,s=vr.transition;vr.transition=null;try{Q=4,Cu(t,e,n,r)}finally{Q=i,vr.transition=s}}function Cu(t,e,n,r){if(Qs){var i=fa(t,e,n,r);if(i===null)xl(t,e,r,Ys,n),sd(t,r);else if(Fy(i,t,e,n,r))r.stopPropagation();else if(sd(t,r),e&4&&-1<Oy.indexOf(t)){for(;i!==null;){var s=ns(i);if(s!==null&&Af(s),s=fa(t,e,n,r),s===null&&xl(t,e,r,Ys,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xl(t,e,r,null,n)}}var Ys=null;function fa(t,e,n,r){if(Ys=null,t=vu(r),t=Rn(t),t!==null)if(e=Qn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ys=t,null}function jf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ty()){case _u:return 1;case Pf:return 4;case qs:case Ny:return 16;case Rf:return 536870912;default:return 16}default:return 16}}var nn=null,xu=null,As=null;function Hf(){if(As)return As;var t,e=xu,n=e.length,r,i="value"in nn?nn.value:nn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return As=i.slice(t,1<r?1-r:void 0)}function Ms(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function ld(){return!1}function it(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_s:ld,this.isPropagationStopped=ld,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=it(Br),ts=fe({},Br,{view:0,detail:0}),By=it(ts),pl,ml,ei,bo=fe({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(pl=t.screenX-ei.screenX,ml=t.screenY-ei.screenY):ml=pl=0,ei=t),pl)},movementY:function(t){return"movementY"in t?t.movementY:ml}}),ad=it(bo),Wy=fe({},bo,{dataTransfer:0}),$y=it(Wy),Vy=fe({},ts,{relatedTarget:0}),gl=it(Vy),qy=fe({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=it(qy),Qy=fe({},Br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yy=it(Qy),Ky=fe({},Br,{data:0}),ud=it(Ky),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jy[t])?!!e[t]:!1}function Su(){return e1}var t1=fe({},ts,{key:function(t){if(t.key){var e=Xy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n1=it(t1),r1=fe({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=it(r1),i1=fe({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),s1=it(i1),o1=fe({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=it(o1),a1=fe({},bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=it(a1),c1=[9,13,27,32],ku=Wt&&"CompositionEvent"in window,pi=null;Wt&&"documentMode"in document&&(pi=document.documentMode);var d1=Wt&&"TextEvent"in window&&!pi,Uf=Wt&&(!ku||pi&&8<pi&&11>=pi),dd=String.fromCharCode(32),hd=!1;function Bf(t,e){switch(t){case"keyup":return c1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ir=!1;function h1(t,e){switch(t){case"compositionend":return Wf(e);case"keypress":return e.which!==32?null:(hd=!0,dd);case"textInput":return t=e.data,t===dd&&hd?null:t;default:return null}}function f1(t,e){if(ir)return t==="compositionend"||!ku&&Bf(t,e)?(t=Hf(),As=xu=nn=null,ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uf&&e.locale!=="ko"?null:e.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p1[t.type]:e==="textarea"}function $f(t,e,n,r){wf(r),e=Ks(e,"onChange"),0<e.length&&(n=new Eu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mi=null,Di=null;function m1(t){tp(t,0)}function Ao(t){var e=lr(t);if(pf(e))return t}function g1(t,e){if(t==="change")return e}var Vf=!1;if(Wt){var yl;if(Wt){var vl="oninput"in document;if(!vl){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),vl=typeof pd.oninput=="function"}yl=vl}else yl=!1;Vf=yl&&(!document.documentMode||9<document.documentMode)}function md(){mi&&(mi.detachEvent("onpropertychange",qf),Di=mi=null)}function qf(t){if(t.propertyName==="value"&&Ao(Di)){var e=[];$f(e,Di,t,vu(t)),Sf(m1,e)}}function y1(t,e,n){t==="focusin"?(md(),mi=e,Di=n,mi.attachEvent("onpropertychange",qf)):t==="focusout"&&md()}function v1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Di)}function _1(t,e){if(t==="click")return Ao(e)}function L1(t,e){if(t==="input"||t==="change")return Ao(e)}function w1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:w1;function bi(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yl.call(e,i)||!St(t[i],e[i]))return!1}return!0}function gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,e){var n=gd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gd(n)}}function Gf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qf(){for(var t=window,e=Ws();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ws(t.document)}return e}function Iu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C1(t){var e=Qf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gf(n.ownerDocument.documentElement,n)){if(r!==null&&Iu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yd(n,s);var o=yd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x1=Wt&&"documentMode"in document&&11>=document.documentMode,sr=null,pa=null,gi=null,ma=!1;function vd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||sr==null||sr!==Ws(r)||(r=sr,"selectionStart"in r&&Iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gi&&bi(gi,r)||(gi=r,r=Ks(pa,"onSelect"),0<r.length&&(e=new Eu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sr)))}function Ls(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var or={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},_l={},Yf={};Wt&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function Mo(t){if(_l[t])return _l[t];if(!or[t])return t;var e=or[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yf)return _l[t]=e[n];return t}var Kf=Mo("animationend"),Xf=Mo("animationiteration"),Zf=Mo("animationstart"),Jf=Mo("transitionend"),ep=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,e){ep.set(t,e),Gn(e,[t])}for(var Ll=0;Ll<_d.length;Ll++){var wl=_d[Ll],E1=wl.toLowerCase(),S1=wl[0].toUpperCase()+wl.slice(1);wn(E1,"on"+S1)}wn(Kf,"onAnimationEnd");wn(Xf,"onAnimationIteration");wn(Zf,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Jf,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Ld(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ey(r,e,void 0,t),t.currentTarget=null}function tp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ld(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ld(i,l,u),s=a}}}if(Vs)throw t=ca,Vs=!1,ca=null,t}function ie(t,e){var n=e[La];n===void 0&&(n=e[La]=new Set);var r=t+"__bubble";n.has(r)||(np(e,t,2,!1),n.add(r))}function Cl(t,e,n){var r=0;e&&(r|=4),np(n,t,r,e)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Ai(t){if(!t[ws]){t[ws]=!0,uf.forEach(function(n){n!=="selectionchange"&&(k1.has(n)||Cl(n,!1,t),Cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ws]||(e[ws]=!0,Cl("selectionchange",!1,e))}}function np(t,e,n,r){switch(jf(e)){case 1:var i=Hy;break;case 4:i=Uy;break;default:i=Cu}n=i.bind(null,e,n,t),i=void 0,!ua||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Rn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Sf(function(){var u=s,h=vu(n),d=[];e:{var c=ep.get(t);if(c!==void 0){var g=Eu,v=t;switch(t){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":g=n1;break;case"focusin":v="focus",g=gl;break;case"focusout":v="blur",g=gl;break;case"beforeblur":case"afterblur":g=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=s1;break;case Kf:case Xf:case Zf:g=Gy;break;case Jf:g=l1;break;case"scroll":g=By;break;case"wheel":g=u1;break;case"copy":case"cut":case"paste":g=Yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cd}var L=(e&4)!==0,b=!L&&t==="scroll",p=L?c!==null?c+"Capture":null:c;L=[];for(var f=u,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,p!==null&&(w=Ti(f,p),w!=null&&L.push(Mi(f,w,m)))),b)break;f=f.return}0<L.length&&(c=new g(c,v,null,n,h),d.push({event:c,listeners:L}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",c&&n!==la&&(v=n.relatedTarget||n.fromElement)&&(Rn(v)||v[$t]))break e;if((g||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Rn(v):null,v!==null&&(b=Qn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(L=ad,w="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(L=cd,w="onPointerLeave",p="onPointerEnter",f="pointer"),b=g==null?c:lr(g),m=v==null?c:lr(v),c=new L(w,f+"leave",g,n,h),c.target=b,c.relatedTarget=m,w=null,Rn(h)===u&&(L=new L(p,f+"enter",v,n,h),L.target=m,L.relatedTarget=b,w=L),b=w,g&&v)t:{for(L=g,p=v,f=0,m=L;m;m=Jn(m))f++;for(m=0,w=p;w;w=Jn(w))m++;for(;0<f-m;)L=Jn(L),f--;for(;0<m-f;)p=Jn(p),m--;for(;f--;){if(L===p||p!==null&&L===p.alternate)break t;L=Jn(L),p=Jn(p)}L=null}else L=null;g!==null&&wd(d,c,g,L,!1),v!==null&&b!==null&&wd(d,b,v,L,!0)}}e:{if(c=u?lr(u):window,g=c.nodeName&&c.nodeName.toLowerCase(),g==="select"||g==="input"&&c.type==="file")var T=g1;else if(fd(c))if(Vf)T=L1;else{T=v1;var k=y1}else(g=c.nodeName)&&g.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(T=_1);if(T&&(T=T(t,u))){$f(d,T,n,h);break e}k&&k(t,c,u),t==="focusout"&&(k=c._wrapperState)&&k.controlled&&c.type==="number"&&na(c,"number",c.value)}switch(k=u?lr(u):window,t){case"focusin":(fd(k)||k.contentEditable==="true")&&(sr=k,pa=u,gi=null);break;case"focusout":gi=pa=sr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,vd(d,n,h);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":vd(d,n,h)}var _;if(ku)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ir?Bf(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Uf&&n.locale!=="ko"&&(ir||x!=="onCompositionStart"?x==="onCompositionEnd"&&ir&&(_=Hf()):(nn=h,xu="value"in nn?nn.value:nn.textContent,ir=!0)),k=Ks(u,x),0<k.length&&(x=new ud(x,t,null,n,h),d.push({event:x,listeners:k}),_?x.data=_:(_=Wf(n),_!==null&&(x.data=_)))),(_=d1?h1(t,n):f1(t,n))&&(u=Ks(u,"onBeforeInput"),0<u.length&&(h=new ud("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=_))}tp(d,e)})}function Mi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ks(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ti(t,n),s!=null&&r.unshift(Mi(t,s,i)),s=Ti(t,e),s!=null&&r.push(Mi(t,s,i))),t=t.return}return r}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ti(n,s),a!=null&&o.unshift(Mi(n,a,l))):i||(a=Ti(n,s),a!=null&&o.push(Mi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var I1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function Cd(t){return(typeof t=="string"?t:""+t).replace(I1,`
`).replace(T1,"")}function Cs(t,e,n){if(e=Cd(e),Cd(t)!==e&&n)throw Error(C(425))}function Xs(){}var ga=null,ya=null;function va(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _a=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(t){return xd.resolve(null).then(t).catch(R1)}:_a;function R1(t){setTimeout(function(){throw t})}function El(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ri(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ri(e)}function un(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ed(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Wr,zi="__reactProps$"+Wr,$t="__reactContainer$"+Wr,La="__reactEvents$"+Wr,D1="__reactListeners$"+Wr,b1="__reactHandles$"+Wr;function Rn(t){var e=t[Nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$t]||n[Nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ed(t);t!==null;){if(n=t[Nt])return n;t=Ed(t)}return e}t=n,n=t.parentNode}return null}function ns(t){return t=t[Nt]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function zo(t){return t[zi]||null}var wa=[],ar=-1;function Cn(t){return{current:t}}function se(t){0>ar||(t.current=wa[ar],wa[ar]=null,ar--)}function ne(t,e){ar++,wa[ar]=t.current,t.current=e}var vn={},Fe=Cn(vn),Ye=Cn(!1),Fn=vn;function Tr(t,e){var n=t.type.contextTypes;if(!n)return vn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(t){return t=t.childContextTypes,t!=null}function Zs(){se(Ye),se(Fe)}function Sd(t,e,n){if(Fe.current!==vn)throw Error(C(168));ne(Fe,e),ne(Ye,n)}function rp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,yy(t)||"Unknown",i));return fe({},n,r)}function Js(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vn,Fn=Fe.current,ne(Fe,t),ne(Ye,Ye.current),!0}function kd(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=rp(t,e,Fn),r.__reactInternalMemoizedMergedChildContext=t,se(Ye),se(Fe),ne(Fe,t)):se(Ye),ne(Ye,n)}var Ot=null,Oo=!1,Sl=!1;function ip(t){Ot===null?Ot=[t]:Ot.push(t)}function A1(t){Oo=!0,ip(t)}function xn(){if(!Sl&&Ot!==null){Sl=!0;var t=0,e=Q;try{var n=Ot;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ot=null,Oo=!1}catch(i){throw Ot!==null&&(Ot=Ot.slice(t+1)),Nf(_u,xn),i}finally{Q=e,Sl=!1}}return null}var ur=[],cr=0,eo=null,to=0,st=[],ot=0,jn=null,Ft=1,jt="";function In(t,e){ur[cr++]=to,ur[cr++]=eo,eo=t,to=e}function sp(t,e,n){st[ot++]=Ft,st[ot++]=jt,st[ot++]=jn,jn=t;var r=Ft;t=jt;var i=32-Ct(r)-1;r&=~(1<<i),n+=1;var s=32-Ct(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ft=1<<32-Ct(e)+i|n<<i|r,jt=s+t}else Ft=1<<s|n<<i|r,jt=t}function Tu(t){t.return!==null&&(In(t,1),sp(t,1,0))}function Nu(t){for(;t===eo;)eo=ur[--cr],ur[cr]=null,to=ur[--cr],ur[cr]=null;for(;t===jn;)jn=st[--ot],st[ot]=null,jt=st[--ot],st[ot]=null,Ft=st[--ot],st[ot]=null}var tt=null,et=null,le=!1,_t=null;function op(t,e){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Id(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tt=t,et=un(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tt=t,et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jn!==null?{id:Ft,overflow:jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tt=t,et=null,!0):!1;default:return!1}}function Ca(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xa(t){if(le){var e=et;if(e){var n=e;if(!Id(t,e)){if(Ca(t))throw Error(C(418));e=un(n.nextSibling);var r=tt;e&&Id(t,e)?op(r,n):(t.flags=t.flags&-4097|2,le=!1,tt=t)}}else{if(Ca(t))throw Error(C(418));t.flags=t.flags&-4097|2,le=!1,tt=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tt=t}function xs(t){if(t!==tt)return!1;if(!le)return Td(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!va(t.type,t.memoizedProps)),e&&(e=et)){if(Ca(t))throw lp(),Error(C(418));for(;e;)op(t,e),e=un(e.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){et=un(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}et=null}}else et=tt?un(t.stateNode.nextSibling):null;return!0}function lp(){for(var t=et;t;)t=un(t.nextSibling)}function Nr(){et=tt=null,le=!1}function Pu(t){_t===null?_t=[t]:_t.push(t)}var M1=Yt.ReactCurrentBatchConfig;function ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Es(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nd(t){var e=t._init;return e(t._payload)}function ap(t){function e(p,f){if(t){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=fn(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,w){return f===null||f.tag!==6?(f=Dl(m,p.mode,w),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,w){var T=m.type;return T===rr?h(p,f,m.props.children,w,m.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zt&&Nd(T)===f.type)?(w=i(f,m.props),w.ref=ti(p,f,m),w.return=p,w):(w=Bs(m.type,m.key,m.props,null,p.mode,w),w.ref=ti(p,f,m),w.return=p,w)}function u(p,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=bl(m,p.mode,w),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function h(p,f,m,w,T){return f===null||f.tag!==7?(f=zn(m,p.mode,w,T),f.return=p,f):(f=i(f,m),f.return=p,f)}function d(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Dl(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fs:return m=Bs(f.type,f.key,f.props,null,p.mode,m),m.ref=ti(p,null,f),m.return=p,m;case nr:return f=bl(f,p.mode,m),f.return=p,f;case Zt:var w=f._init;return d(p,w(f._payload),m)}if(ui(f)||Kr(f))return f=zn(f,p.mode,m,null),f.return=p,f;Es(p,f)}return null}function c(p,f,m,w){var T=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:l(p,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fs:return m.key===T?a(p,f,m,w):null;case nr:return m.key===T?u(p,f,m,w):null;case Zt:return T=m._init,c(p,f,T(m._payload),w)}if(ui(m)||Kr(m))return T!==null?null:h(p,f,m,w,null);Es(p,m)}return null}function g(p,f,m,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(m)||null,l(f,p,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fs:return p=p.get(w.key===null?m:w.key)||null,a(f,p,w,T);case nr:return p=p.get(w.key===null?m:w.key)||null,u(f,p,w,T);case Zt:var k=w._init;return g(p,f,m,k(w._payload),T)}if(ui(w)||Kr(w))return p=p.get(m)||null,h(f,p,w,T,null);Es(f,w)}return null}function v(p,f,m,w){for(var T=null,k=null,_=f,x=f=0,O=null;_!==null&&x<m.length;x++){_.index>x?(O=_,_=null):O=_.sibling;var I=c(p,_,m[x],w);if(I===null){_===null&&(_=O);break}t&&_&&I.alternate===null&&e(p,_),f=s(I,f,x),k===null?T=I:k.sibling=I,k=I,_=O}if(x===m.length)return n(p,_),le&&In(p,x),T;if(_===null){for(;x<m.length;x++)_=d(p,m[x],w),_!==null&&(f=s(_,f,x),k===null?T=_:k.sibling=_,k=_);return le&&In(p,x),T}for(_=r(p,_);x<m.length;x++)O=g(_,p,x,m[x],w),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?x:O.key),f=s(O,f,x),k===null?T=O:k.sibling=O,k=O);return t&&_.forEach(function(X){return e(p,X)}),le&&In(p,x),T}function L(p,f,m,w){var T=Kr(m);if(typeof T!="function")throw Error(C(150));if(m=T.call(m),m==null)throw Error(C(151));for(var k=T=null,_=f,x=f=0,O=null,I=m.next();_!==null&&!I.done;x++,I=m.next()){_.index>x?(O=_,_=null):O=_.sibling;var X=c(p,_,I.value,w);if(X===null){_===null&&(_=O);break}t&&_&&X.alternate===null&&e(p,_),f=s(X,f,x),k===null?T=X:k.sibling=X,k=X,_=O}if(I.done)return n(p,_),le&&In(p,x),T;if(_===null){for(;!I.done;x++,I=m.next())I=d(p,I.value,w),I!==null&&(f=s(I,f,x),k===null?T=I:k.sibling=I,k=I);return le&&In(p,x),T}for(_=r(p,_);!I.done;x++,I=m.next())I=g(_,p,x,I.value,w),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?x:I.key),f=s(I,f,x),k===null?T=I:k.sibling=I,k=I);return t&&_.forEach(function(re){return e(p,re)}),le&&In(p,x),T}function b(p,f,m,w){if(typeof m=="object"&&m!==null&&m.type===rr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case fs:e:{for(var T=m.key,k=f;k!==null;){if(k.key===T){if(T=m.type,T===rr){if(k.tag===7){n(p,k.sibling),f=i(k,m.props.children),f.return=p,p=f;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zt&&Nd(T)===k.type){n(p,k.sibling),f=i(k,m.props),f.ref=ti(p,k,m),f.return=p,p=f;break e}n(p,k);break}else e(p,k);k=k.sibling}m.type===rr?(f=zn(m.props.children,p.mode,w,m.key),f.return=p,p=f):(w=Bs(m.type,m.key,m.props,null,p.mode,w),w.ref=ti(p,f,m),w.return=p,p=w)}return o(p);case nr:e:{for(k=m.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=bl(m,p.mode,w),f.return=p,p=f}return o(p);case Zt:return k=m._init,b(p,f,k(m._payload),w)}if(ui(m))return v(p,f,m,w);if(Kr(m))return L(p,f,m,w);Es(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Dl(m,p.mode,w),f.return=p,p=f),o(p)):n(p,f)}return b}var Pr=ap(!0),up=ap(!1),no=Cn(null),ro=null,dr=null,Ru=null;function Du(){Ru=dr=ro=null}function bu(t){var e=no.current;se(no),t._currentValue=e}function Ea(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _r(t,e){ro=t,Ru=dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function ct(t){var e=t._currentValue;if(Ru!==t)if(t={context:t,memoizedValue:e,next:null},dr===null){if(ro===null)throw Error(C(308));dr=t,ro.dependencies={lanes:0,firstContext:t}}else dr=dr.next=t;return e}var Dn=null;function Au(t){Dn===null?Dn=[t]:Dn.push(t)}function cp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Au(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vt(t,r)}function Vt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jt=!1;function Mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vt(t,n)}return i=r.interleaved,i===null?(e.next=e,Au(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vt(t,n)}function zs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lu(t,n)}}function Pd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function io(t,e,n,r){var i=t.updateQueue;Jt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,h=u=a=null,l=s;do{var c=l.lane,g=l.eventTime;if((r&c)===c){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,L=l;switch(c=e,g=n,L.tag){case 1:if(v=L.payload,typeof v=="function"){d=v.call(g,d,c);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=L.payload,c=typeof v=="function"?v.call(g,d,c):v,c==null)break e;d=fe({},d,c);break e;case 2:Jt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else g={eventTime:g,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,a=d):h=h.next=g,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Un|=o,t.lanes=o,t.memoizedState=d}}function Rd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var rs={},Rt=Cn(rs),Oi=Cn(rs),Fi=Cn(rs);function bn(t){if(t===rs)throw Error(C(174));return t}function zu(t,e){switch(ne(Fi,e),ne(Oi,t),ne(Rt,rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ia(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ia(e,t)}se(Rt),ne(Rt,e)}function Rr(){se(Rt),se(Oi),se(Fi)}function hp(t){bn(Fi.current);var e=bn(Rt.current),n=ia(e,t.type);e!==n&&(ne(Oi,t),ne(Rt,n))}function Ou(t){Oi.current===t&&(se(Rt),se(Oi))}var de=Cn(0);function so(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kl=[];function Fu(){for(var t=0;t<kl.length;t++)kl[t]._workInProgressVersionPrimary=null;kl.length=0}var Os=Yt.ReactCurrentDispatcher,Il=Yt.ReactCurrentBatchConfig,Hn=0,he=null,Le=null,xe=null,oo=!1,yi=!1,ji=0,z1=0;function Me(){throw Error(C(321))}function ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function Hu(t,e,n,r,i,s){if(Hn=s,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Os.current=t===null||t.memoizedState===null?H1:U1,t=n(r,i),yi){s=0;do{if(yi=!1,ji=0,25<=s)throw Error(C(301));s+=1,xe=Le=null,e.updateQueue=null,Os.current=B1,t=n(r,i)}while(yi)}if(Os.current=lo,e=Le!==null&&Le.next!==null,Hn=0,xe=Le=he=null,oo=!1,e)throw Error(C(300));return t}function Uu(){var t=ji!==0;return ji=0,t}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?he.memoizedState=xe=t:xe=xe.next=t,xe}function dt(){if(Le===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=xe===null?he.memoizedState:xe.next;if(e!==null)xe=e,Le=t;else{if(t===null)throw Error(C(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},xe===null?he.memoizedState=xe=t:xe=xe.next=t}return xe}function Hi(t,e){return typeof e=="function"?e(t):e}function Tl(t){var e=dt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var h=u.lane;if((Hn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,he.lanes|=h,Un|=h}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,St(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,he.lanes|=s,Un|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nl(t){var e=dt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);St(s,e.memoizedState)||(qe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function fp(){}function pp(t,e){var n=he,r=dt(),i=e(),s=!St(r.memoizedState,i);if(s&&(r.memoizedState=i,qe=!0),r=r.queue,Bu(yp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Ui(9,gp.bind(null,n,r,i,e),void 0,null),Ie===null)throw Error(C(349));Hn&30||mp(n,e,i)}return i}function mp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gp(t,e,n,r){e.value=n,e.getSnapshot=r,vp(e)&&_p(t)}function yp(t,e,n){return n(function(){vp(e)&&_p(t)})}function vp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function _p(t){var e=Vt(t,1);e!==null&&xt(e,t,1,-1)}function Dd(t){var e=Tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},e.queue=t,t=t.dispatch=j1.bind(null,he,t),[e.memoizedState,t]}function Ui(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lp(){return dt().memoizedState}function Fs(t,e,n,r){var i=Tt();he.flags|=t,i.memoizedState=Ui(1|e,n,void 0,r===void 0?null:r)}function Fo(t,e,n,r){var i=dt();r=r===void 0?null:r;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,r!==null&&ju(r,o.deps)){i.memoizedState=Ui(e,n,s,r);return}}he.flags|=t,i.memoizedState=Ui(1|e,n,s,r)}function bd(t,e){return Fs(8390656,8,t,e)}function Bu(t,e){return Fo(2048,8,t,e)}function wp(t,e){return Fo(4,2,t,e)}function Cp(t,e){return Fo(4,4,t,e)}function xp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ep(t,e,n){return n=n!=null?n.concat([t]):null,Fo(4,4,xp.bind(null,e,t),n)}function Wu(){}function Sp(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kp(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ip(t,e,n){return Hn&21?(St(n,e)||(n=Df(),he.lanes|=n,Un|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function O1(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=Il.transition;Il.transition={};try{t(!1),e()}finally{Q=n,Il.transition=r}}function Tp(){return dt().memoizedState}function F1(t,e,n){var r=hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Np(t))Pp(e,n);else if(n=cp(t,e,n,r),n!==null){var i=Ue();xt(n,t,r,i),Rp(n,e,r)}}function j1(t,e,n){var r=hn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Np(t))Pp(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,St(l,o)){var a=e.interleaved;a===null?(i.next=i,Au(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=cp(t,e,i,r),n!==null&&(i=Ue(),xt(n,t,r,i),Rp(n,e,r))}}function Np(t){var e=t.alternate;return t===he||e!==null&&e===he}function Pp(t,e){yi=oo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lu(t,n)}}var lo={readContext:ct,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},H1={readContext:ct,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:bd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fs(4194308,4,xp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fs(4,2,t,e)},useMemo:function(t,e){var n=Tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=F1.bind(null,he,t),[r.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:Dd,useDebugValue:Wu,useDeferredValue:function(t){return Tt().memoizedState=t},useTransition:function(){var t=Dd(!1),e=t[0];return t=O1.bind(null,t[1]),Tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=he,i=Tt();if(le){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Ie===null)throw Error(C(349));Hn&30||mp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bd(yp.bind(null,r,s,t),[t]),r.flags|=2048,Ui(9,gp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tt(),e=Ie.identifierPrefix;if(le){var n=jt,r=Ft;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ji++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=z1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U1={readContext:ct,useCallback:Sp,useContext:ct,useEffect:Bu,useImperativeHandle:Ep,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:kp,useReducer:Tl,useRef:Lp,useState:function(){return Tl(Hi)},useDebugValue:Wu,useDeferredValue:function(t){var e=dt();return Ip(e,Le.memoizedState,t)},useTransition:function(){var t=Tl(Hi)[0],e=dt().memoizedState;return[t,e]},useMutableSource:fp,useSyncExternalStore:pp,useId:Tp,unstable_isNewReconciler:!1},B1={readContext:ct,useCallback:Sp,useContext:ct,useEffect:Bu,useImperativeHandle:Ep,useInsertionEffect:wp,useLayoutEffect:Cp,useMemo:kp,useReducer:Nl,useRef:Lp,useState:function(){return Nl(Hi)},useDebugValue:Wu,useDeferredValue:function(t){var e=dt();return Le===null?e.memoizedState=t:Ip(e,Le.memoizedState,t)},useTransition:function(){var t=Nl(Hi)[0],e=dt().memoizedState;return[t,e]},useMutableSource:fp,useSyncExternalStore:pp,useId:Tp,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jo={isMounted:function(t){return(t=t._reactInternals)?Qn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ue(),i=hn(t),s=Ut(r,i);s.payload=e,n!=null&&(s.callback=n),e=cn(t,s,i),e!==null&&(xt(e,t,i,r),zs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ue(),i=hn(t),s=Ut(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cn(t,s,i),e!==null&&(xt(e,t,i,r),zs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),r=hn(t),i=Ut(n,r);i.tag=2,e!=null&&(i.callback=e),e=cn(t,i,r),e!==null&&(xt(e,t,r,n),zs(e,t,r))}};function Ad(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bi(n,r)||!bi(i,s):!0}function Dp(t,e,n){var r=!1,i=vn,s=e.contextType;return typeof s=="object"&&s!==null?s=ct(s):(i=Ke(e)?Fn:Fe.current,r=e.contextTypes,s=(r=r!=null)?Tr(t,i):vn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Md(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jo.enqueueReplaceState(e,e.state,null)}function ka(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ct(s):(s=Ke(e)?Fn:Fe.current,i.context=Tr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jo.enqueueReplaceState(i,i.state,null),io(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dr(t,e){try{var n="",r=e;do n+=gy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ia(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W1=typeof WeakMap=="function"?WeakMap:Map;function bp(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uo||(uo=!0,Oa=r),Ia(t,e)},n}function Ap(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ia(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ia(t,e),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rv.bind(null,t,e,n),e.then(t,t))}function Od(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ut(-1,1),e.tag=2,cn(n,e,1))),n.lanes|=1),t)}var $1=Yt.ReactCurrentOwner,qe=!1;function He(t,e,n,r){e.child=t===null?up(e,null,n,r):Pr(e,t.child,n,r)}function jd(t,e,n,r,i){n=n.render;var s=e.ref;return _r(e,i),r=Hu(t,e,n,r,s,i),n=Uu(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(le&&n&&Tu(e),e.flags|=1,He(t,e,r,i),e.child)}function Hd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Mp(t,e,s,r,i)):(t=Bs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bi,n(o,r)&&t.ref===e.ref)return qt(t,e,i)}return e.flags|=1,t=fn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Mp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bi(s,r)&&t.ref===e.ref)if(qe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,qt(t,e,i)}return Ta(t,e,n,r,i)}function zp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(fr,Je),Je|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(fr,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ne(fr,Je),Je|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ne(fr,Je),Je|=r;return He(t,e,i,n),e.child}function Op(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,r,i){var s=Ke(n)?Fn:Fe.current;return s=Tr(e,s),_r(e,i),n=Hu(t,e,n,r,s,i),r=Uu(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(le&&r&&Tu(e),e.flags|=1,He(t,e,n,i),e.child)}function Ud(t,e,n,r,i){if(Ke(n)){var s=!0;Js(e)}else s=!1;if(_r(e,i),e.stateNode===null)js(t,e),Dp(e,n,r),ka(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ke(n)?Fn:Fe.current,u=Tr(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Md(e,o,r,u),Jt=!1;var c=e.memoizedState;o.state=c,io(e,r,o,i),a=e.memoizedState,l!==r||c!==a||Ye.current||Jt?(typeof h=="function"&&(Sa(e,n,h,r),a=e.memoizedState),(l=Jt||Ad(e,n,l,r,c,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:yt(e.type,l),o.props=u,d=e.pendingProps,c=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ct(a):(a=Ke(n)?Fn:Fe.current,a=Tr(e,a));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||c!==a)&&Md(e,o,r,a),Jt=!1,c=e.memoizedState,o.state=c,io(e,r,o,i);var v=e.memoizedState;l!==d||c!==v||Ye.current||Jt?(typeof g=="function"&&(Sa(e,n,g,r),v=e.memoizedState),(u=Jt||Ad(e,n,u,r,c,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return Na(t,e,n,r,s,i)}function Na(t,e,n,r,i,s){Op(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kd(e,n,!1),qt(t,e,s);r=e.stateNode,$1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pr(e,t.child,null,s),e.child=Pr(e,null,l,s)):He(t,e,l,s),e.memoizedState=r.state,i&&kd(e,n,!0),e.child}function Fp(t){var e=t.stateNode;e.pendingContext?Sd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sd(t,e.context,!1),zu(t,e.containerInfo)}function Bd(t,e,n,r,i){return Nr(),Pu(i),e.flags|=256,He(t,e,n,r),e.child}var Pa={dehydrated:null,treeContext:null,retryLane:0};function Ra(t){return{baseLanes:t,cachePool:null,transitions:null}}function jp(t,e,n){var r=e.pendingProps,i=de.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ne(de,i&1),t===null)return xa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bo(o,r,0,null),t=zn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ra(n),e.memoizedState=Pa,t):$u(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return V1(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=fn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=fn(l,s):(s=zn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ra(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pa,r}return s=t.child,t=s.sibling,r=fn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $u(t,e){return e=Bo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ss(t,e,n,r){return r!==null&&Pu(r),Pr(e,t.child,null,n),t=$u(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pl(Error(C(422))),Ss(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bo({mode:"visible",children:r.children},i,0,null),s=zn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pr(e,t.child,null,o),e.child.memoizedState=Ra(o),e.memoizedState=Pa,s);if(!(e.mode&1))return Ss(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=Pl(s,r,void 0),Ss(t,e,o,r)}if(l=(o&t.childLanes)!==0,qe||l){if(r=Ie,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vt(t,i),xt(r,t,i,-1))}return Ku(),r=Pl(Error(C(421))),Ss(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,et=un(i.nextSibling),tt=e,le=!0,_t=null,t!==null&&(st[ot++]=Ft,st[ot++]=jt,st[ot++]=jn,Ft=t.id,jt=t.overflow,jn=e),e=$u(e,r.children),e.flags|=4096,e)}function Wd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ea(t.return,e,n)}function Rl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Hp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(He(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wd(t,n,e);else if(t.tag===19)Wd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(de,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&so(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&so(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rl(e,!0,n,null,s);break;case"together":Rl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Un|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q1(t,e,n){switch(e.tag){case 3:Fp(e),Nr();break;case 5:hp(e);break;case 1:Ke(e.type)&&Js(e);break;case 4:zu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ne(no,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?jp(t,e,n):(ne(de,de.current&1),t=qt(t,e,n),t!==null?t.sibling:null);ne(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,zp(t,e,n)}return qt(t,e,n)}var Up,Da,Bp,Wp;Up=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Da=function(){};Bp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bn(Rt.current);var s=null;switch(n){case"input":i=ea(t,i),r=ea(t,r),s=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),s=[];break;case"textarea":i=ra(t,i),r=ra(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xs)}sa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ki.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ki.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ie("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Wp=function(t,e,n,r){n!==r&&(e.flags|=4)};function ni(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G1(t,e,n){var r=e.pendingProps;switch(Nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return Ke(e.type)&&Zs(),ze(e),null;case 3:return r=e.stateNode,Rr(),se(Ye),se(Fe),Fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&(Ha(_t),_t=null))),Da(t,e),ze(e),null;case 5:Ou(e);var i=bn(Fi.current);if(n=e.type,t!==null&&e.stateNode!=null)Bp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return ze(e),null}if(t=bn(Rt.current),xs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nt]=e,r[zi]=s,t=(e.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(i=0;i<di.length;i++)ie(di[i],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Zc(r,s),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ie("invalid",r);break;case"textarea":ed(r,s),ie("invalid",r)}sa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Cs(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Cs(r.textContent,l,t),i=["children",""+l]):ki.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":ps(r),Jc(r,s,!0);break;case"textarea":ps(r),td(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nt]=e,t[zi]=r,Up(t,e,!1,!1),e.stateNode=t;e:{switch(o=oa(n,r),n){case"dialog":ie("cancel",t),ie("close",t),i=r;break;case"iframe":case"object":case"embed":ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<di.length;i++)ie(di[i],t);i=r;break;case"source":ie("error",t),i=r;break;case"img":case"image":case"link":ie("error",t),ie("load",t),i=r;break;case"details":ie("toggle",t),i=r;break;case"input":Zc(t,r),i=ea(t,r),ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),ie("invalid",t);break;case"textarea":ed(t,r),i=ra(t,r),ie("invalid",t);break;default:i=r}sa(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Lf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ii(t,a):typeof a=="number"&&Ii(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ki.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ie("scroll",t):a!=null&&pu(t,s,a,o))}switch(n){case"input":ps(t),Jc(t,r,!1);break;case"textarea":ps(t),td(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mr(t,!!r.multiple,s,!1):r.defaultValue!=null&&mr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)Wp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=bn(Fi.current),bn(Rt.current),xs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nt]=e,(s=r.nodeValue!==n)&&(t=tt,t!==null))switch(t.tag){case 3:Cs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cs(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=e,e.stateNode=r}return ze(e),null;case 13:if(se(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&et!==null&&e.mode&1&&!(e.flags&128))lp(),Nr(),e.flags|=98560,s=!1;else if(s=xs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[Nt]=e}else Nr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),s=!1}else _t!==null&&(Ha(_t),_t=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?we===0&&(we=3):Ku())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return Rr(),Da(t,e),t===null&&Ai(e.stateNode.containerInfo),ze(e),null;case 10:return bu(e.type._context),ze(e),null;case 17:return Ke(e.type)&&Zs(),ze(e),null;case 19:if(se(de),s=e.memoizedState,s===null)return ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ni(s,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=so(t),o!==null){for(e.flags|=128,ni(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(de,de.current&1|2),e.child}t=t.sibling}s.tail!==null&&ye()>br&&(e.flags|=128,r=!0,ni(s,!1),e.lanes=4194304)}else{if(!r)if(t=so(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!le)return ze(e),null}else 2*ye()-s.renderingStartTime>br&&n!==1073741824&&(e.flags|=128,r=!0,ni(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ye(),e.sibling=null,n=de.current,ne(de,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return Yu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Je&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Q1(t,e){switch(Nu(e),e.tag){case 1:return Ke(e.type)&&Zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rr(),se(Ye),se(Fe),Fu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ou(e),null;case 13:if(se(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(de),null;case 4:return Rr(),null;case 10:return bu(e.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var ks=!1,Oe=!1,Y1=typeof WeakSet=="function"?WeakSet:Set,P=null;function hr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(t,e,r)}else n.current=null}function ba(t,e,n){try{n()}catch(r){pe(t,e,r)}}var $d=!1;function K1(t,e){if(ga=Qs,t=Qf(),Iu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,d=t,c=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)c=d,d=g;for(;;){if(d===t)break t;if(c===n&&++u===i&&(l=o),c===s&&++h===r&&(a=o),(g=d.nextSibling)!==null)break;d=c,c=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ya={focusedElem:t,selectionRange:n},Qs=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var L=v.memoizedProps,b=v.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?L:yt(e.type,L),b);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){pe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return v=$d,$d=!1,v}function vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ba(e,n,s)}i=i.next}while(i!==r)}}function Ho(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Aa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $p(t){var e=t.alternate;e!==null&&(t.alternate=null,$p(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nt],delete e[zi],delete e[La],delete e[D1],delete e[b1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vp(t){return t.tag===5||t.tag===3||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ma(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xs));else if(r!==4&&(t=t.child,t!==null))for(Ma(t,e,n),t=t.sibling;t!==null;)Ma(t,e,n),t=t.sibling}function za(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(za(t,e,n),t=t.sibling;t!==null;)za(t,e,n),t=t.sibling}var Ne=null,vt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)qp(t,e,n),n=n.sibling}function qp(t,e,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Do,n)}catch{}switch(n.tag){case 5:Oe||hr(n,e);case 6:var r=Ne,i=vt;Ne=null,Xt(t,e,n),Ne=r,vt=i,Ne!==null&&(vt?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(vt?(t=Ne,n=n.stateNode,t.nodeType===8?El(t.parentNode,n):t.nodeType===1&&El(t,n),Ri(t)):El(Ne,n.stateNode));break;case 4:r=Ne,i=vt,Ne=n.stateNode.containerInfo,vt=!0,Xt(t,e,n),Ne=r,vt=i;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ba(n,e,o),i=i.next}while(i!==r)}Xt(t,e,n);break;case 1:if(!Oe&&(hr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pe(n,e,l)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Xt(t,e,n),Oe=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function qd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Y1),e.forEach(function(r){var i=sv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,vt=!1;break e;case 3:Ne=l.stateNode.containerInfo,vt=!0;break e;case 4:Ne=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(Ne===null)throw Error(C(160));qp(s,o,i),Ne=null,vt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gp(e,t),e=e.sibling}function Gp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),It(t),r&4){try{vi(3,t,t.return),Ho(3,t)}catch(L){pe(t,t.return,L)}try{vi(5,t,t.return)}catch(L){pe(t,t.return,L)}}break;case 1:gt(e,t),It(t),r&512&&n!==null&&hr(n,n.return);break;case 5:if(gt(e,t),It(t),r&512&&n!==null&&hr(n,n.return),t.flags&32){var i=t.stateNode;try{Ii(i,"")}catch(L){pe(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&mf(i,s),oa(l,o);var u=oa(l,s);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?Lf(i,d):h==="dangerouslySetInnerHTML"?vf(i,d):h==="children"?Ii(i,d):pu(i,h,d,u)}switch(l){case"input":ta(i,s);break;case"textarea":gf(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?mr(i,!!s.multiple,g,!1):c!==!!s.multiple&&(s.defaultValue!=null?mr(i,!!s.multiple,s.defaultValue,!0):mr(i,!!s.multiple,s.multiple?[]:"",!1))}i[zi]=s}catch(L){pe(t,t.return,L)}}break;case 6:if(gt(e,t),It(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(L){pe(t,t.return,L)}}break;case 3:if(gt(e,t),It(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ri(e.containerInfo)}catch(L){pe(t,t.return,L)}break;case 4:gt(e,t),It(t);break;case 13:gt(e,t),It(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gu=ye())),r&4&&qd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Oe=(u=Oe)||h,gt(e,t),Oe=u):gt(e,t),It(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(P=t,h=t.child;h!==null;){for(d=P=h;P!==null;){switch(c=P,g=c.child,c.tag){case 0:case 11:case 14:case 15:vi(4,c,c.return);break;case 1:hr(c,c.return);var v=c.stateNode;if(typeof v.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(L){pe(r,n,L)}}break;case 5:hr(c,c.return);break;case 22:if(c.memoizedState!==null){Qd(d);continue}}g!==null?(g.return=c,P=g):Qd(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=_f("display",o))}catch(L){pe(t,t.return,L)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(L){pe(t,t.return,L)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gt(e,t),It(t),r&4&&qd(t);break;case 21:break;default:gt(e,t),It(t)}}function It(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vp(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ii(i,""),r.flags&=-33);var s=Vd(t);za(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Vd(t);Ma(t,l,o);break;default:throw Error(C(161))}}catch(a){pe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X1(t,e,n){P=t,Qp(t)}function Qp(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var i=P,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ks;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Oe;l=ks;var u=Oe;if(ks=o,(Oe=a)&&!u)for(P=i;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Yd(i):a!==null?(a.return=o,P=a):Yd(i);for(;s!==null;)P=s,Qp(s),s=s.sibling;P=i,ks=l,Oe=u}Gd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,P=s):Gd(t)}}function Gd(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Ho(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Rd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ri(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Oe||e.flags&512&&Aa(e)}catch(c){pe(e,e.return,c)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Qd(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Yd(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ho(4,e)}catch(a){pe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){pe(e,i,a)}}var s=e.return;try{Aa(e)}catch(a){pe(e,s,a)}break;case 5:var o=e.return;try{Aa(e)}catch(a){pe(e,o,a)}}}catch(a){pe(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Z1=Math.ceil,ao=Yt.ReactCurrentDispatcher,Vu=Yt.ReactCurrentOwner,ut=Yt.ReactCurrentBatchConfig,V=0,Ie=null,_e=null,Re=0,Je=0,fr=Cn(0),we=0,Bi=null,Un=0,Uo=0,qu=0,_i=null,Ve=null,Gu=0,br=1/0,zt=null,uo=!1,Oa=null,dn=null,Is=!1,rn=null,co=0,Li=0,Fa=null,Hs=-1,Us=0;function Ue(){return V&6?ye():Hs!==-1?Hs:Hs=ye()}function hn(t){return t.mode&1?V&2&&Re!==0?Re&-Re:M1.transition!==null?(Us===0&&(Us=Df()),Us):(t=Q,t!==0||(t=window.event,t=t===void 0?16:jf(t.type)),t):1}function xt(t,e,n,r){if(50<Li)throw Li=0,Fa=null,Error(C(185));es(t,n,r),(!(V&2)||t!==Ie)&&(t===Ie&&(!(V&2)&&(Uo|=n),we===4&&tn(t,Re)),Xe(t,r),n===1&&V===0&&!(e.mode&1)&&(br=ye()+500,Oo&&xn()))}function Xe(t,e){var n=t.callbackNode;My(t,e);var r=Gs(t,t===Ie?Re:0);if(r===0)n!==null&&id(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&id(n),e===1)t.tag===0?A1(Kd.bind(null,t)):ip(Kd.bind(null,t)),P1(function(){!(V&6)&&xn()}),n=null;else{switch(bf(r)){case 1:n=_u;break;case 4:n=Pf;break;case 16:n=qs;break;case 536870912:n=Rf;break;default:n=qs}n=nm(n,Yp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yp(t,e){if(Hs=-1,Us=0,V&6)throw Error(C(327));var n=t.callbackNode;if(Lr()&&t.callbackNode!==n)return null;var r=Gs(t,t===Ie?Re:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ho(t,r);else{e=r;var i=V;V|=2;var s=Xp();(Ie!==t||Re!==e)&&(zt=null,br=ye()+500,Mn(t,e));do try{tv();break}catch(l){Kp(t,l)}while(1);Du(),ao.current=s,V=i,_e!==null?e=0:(Ie=null,Re=0,e=we)}if(e!==0){if(e===2&&(i=da(t),i!==0&&(r=i,e=ja(t,i))),e===1)throw n=Bi,Mn(t,0),tn(t,r),Xe(t,ye()),n;if(e===6)tn(t,r);else{if(i=t.current.alternate,!(r&30)&&!J1(i)&&(e=ho(t,r),e===2&&(s=da(t),s!==0&&(r=s,e=ja(t,s))),e===1))throw n=Bi,Mn(t,0),tn(t,r),Xe(t,ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Tn(t,Ve,zt);break;case 3:if(tn(t,r),(r&130023424)===r&&(e=Gu+500-ye(),10<e)){if(Gs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ue(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_a(Tn.bind(null,t,Ve,zt),e);break}Tn(t,Ve,zt);break;case 4:if(tn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ct(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z1(r/1960))-r,10<r){t.timeoutHandle=_a(Tn.bind(null,t,Ve,zt),r);break}Tn(t,Ve,zt);break;case 5:Tn(t,Ve,zt);break;default:throw Error(C(329))}}}return Xe(t,ye()),t.callbackNode===n?Yp.bind(null,t):null}function ja(t,e){var n=_i;return t.current.memoizedState.isDehydrated&&(Mn(t,e).flags|=256),t=ho(t,e),t!==2&&(e=Ve,Ve=n,e!==null&&Ha(e)),t}function Ha(t){Ve===null?Ve=t:Ve.push.apply(Ve,t)}function J1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!St(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tn(t,e){for(e&=~qu,e&=~Uo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ct(e),r=1<<n;t[n]=-1,e&=~r}}function Kd(t){if(V&6)throw Error(C(327));Lr();var e=Gs(t,0);if(!(e&1))return Xe(t,ye()),null;var n=ho(t,e);if(t.tag!==0&&n===2){var r=da(t);r!==0&&(e=r,n=ja(t,r))}if(n===1)throw n=Bi,Mn(t,0),tn(t,e),Xe(t,ye()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,Ve,zt),Xe(t,ye()),null}function Qu(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(br=ye()+500,Oo&&xn())}}function Bn(t){rn!==null&&rn.tag===0&&!(V&6)&&Lr();var e=V;V|=1;var n=ut.transition,r=Q;try{if(ut.transition=null,Q=1,t)return t()}finally{Q=r,ut.transition=n,V=e,!(V&6)&&xn()}}function Yu(){Je=fr.current,se(fr)}function Mn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N1(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zs();break;case 3:Rr(),se(Ye),se(Fe),Fu();break;case 5:Ou(r);break;case 4:Rr();break;case 13:se(de);break;case 19:se(de);break;case 10:bu(r.type._context);break;case 22:case 23:Yu()}n=n.return}if(Ie=t,_e=t=fn(t.current,null),Re=Je=e,we=0,Bi=null,qu=Uo=Un=0,Ve=_i=null,Dn!==null){for(e=0;e<Dn.length;e++)if(n=Dn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dn=null}return t}function Kp(t,e){do{var n=_e;try{if(Du(),Os.current=lo,oo){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oo=!1}if(Hn=0,xe=Le=he=null,yi=!1,ji=0,Vu.current=null,n===null||n.return===null){we=1,Bi=e,_e=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Re,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Od(o);if(g!==null){g.flags&=-257,Fd(g,o,l,s,e),g.mode&1&&zd(s,u,e),e=g,a=u;var v=e.updateQueue;if(v===null){var L=new Set;L.add(a),e.updateQueue=L}else v.add(a);break e}else{if(!(e&1)){zd(s,u,e),Ku();break e}a=Error(C(426))}}else if(le&&l.mode&1){var b=Od(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Fd(b,o,l,s,e),Pu(Dr(a,l));break e}}s=a=Dr(a,l),we!==4&&(we=2),_i===null?_i=[s]:_i.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=bp(s,a,e);Pd(s,p);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(dn===null||!dn.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Ap(s,l,e);Pd(s,w);break e}}s=s.return}while(s!==null)}Jp(n)}catch(T){e=T,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(1)}function Xp(){var t=ao.current;return ao.current=lo,t===null?lo:t}function Ku(){(we===0||we===3||we===2)&&(we=4),Ie===null||!(Un&268435455)&&!(Uo&268435455)||tn(Ie,Re)}function ho(t,e){var n=V;V|=2;var r=Xp();(Ie!==t||Re!==e)&&(zt=null,Mn(t,e));do try{ev();break}catch(i){Kp(t,i)}while(1);if(Du(),V=n,ao.current=r,_e!==null)throw Error(C(261));return Ie=null,Re=0,we}function ev(){for(;_e!==null;)Zp(_e)}function tv(){for(;_e!==null&&!ky();)Zp(_e)}function Zp(t){var e=tm(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?Jp(t):_e=e,Vu.current=null}function Jp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q1(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,_e=null;return}}else if(n=G1(n,e,Je),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);we===0&&(we=5)}function Tn(t,e,n){var r=Q,i=ut.transition;try{ut.transition=null,Q=1,nv(t,e,n,r)}finally{ut.transition=i,Q=r}return null}function nv(t,e,n,r){do Lr();while(rn!==null);if(V&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zy(t,s),t===Ie&&(_e=Ie=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Is||(Is=!0,nm(qs,function(){return Lr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ut.transition,ut.transition=null;var o=Q;Q=1;var l=V;V|=4,Vu.current=null,K1(t,n),Gp(n,t),C1(ya),Qs=!!ga,ya=ga=null,t.current=n,X1(n),Iy(),V=l,Q=o,ut.transition=s}else t.current=n;if(Is&&(Is=!1,rn=t,co=i),s=t.pendingLanes,s===0&&(dn=null),Py(n.stateNode),Xe(t,ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uo)throw uo=!1,t=Oa,Oa=null,t;return co&1&&t.tag!==0&&Lr(),s=t.pendingLanes,s&1?t===Fa?Li++:(Li=0,Fa=t):Li=0,xn(),null}function Lr(){if(rn!==null){var t=bf(co),e=ut.transition,n=Q;try{if(ut.transition=null,Q=16>t?16:t,rn===null)var r=!1;else{if(t=rn,rn=null,co=0,V&6)throw Error(C(331));var i=V;for(V|=4,P=t.current;P!==null;){var s=P,o=s.child;if(P.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:vi(8,h,s)}var d=h.child;if(d!==null)d.return=h,P=d;else for(;P!==null;){h=P;var c=h.sibling,g=h.return;if($p(h),h===u){P=null;break}if(c!==null){c.return=g,P=c;break}P=g}}}var v=s.alternate;if(v!==null){var L=v.child;if(L!==null){v.child=null;do{var b=L.sibling;L.sibling=null,L=b}while(L!==null)}}P=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,P=o;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,P=p;break e}P=s.return}}var f=t.current;for(P=f;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=f;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ho(9,l)}}catch(T){pe(l,l.return,T)}if(l===o){P=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,P=w;break e}P=l.return}}if(V=i,xn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Do,t)}catch{}r=!0}return r}finally{Q=n,ut.transition=e}}return!1}function Xd(t,e,n){e=Dr(n,e),e=bp(t,e,1),t=cn(t,e,1),e=Ue(),t!==null&&(es(t,1,e),Xe(t,e))}function pe(t,e,n){if(t.tag===3)Xd(t,t,n);else for(;e!==null;){if(e.tag===3){Xd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){t=Dr(n,t),t=Ap(e,t,1),e=cn(e,t,1),t=Ue(),e!==null&&(es(e,1,t),Xe(e,t));break}}e=e.return}}function rv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Re&n)===n&&(we===4||we===3&&(Re&130023424)===Re&&500>ye()-Gu?Mn(t,0):qu|=n),Xe(t,e)}function em(t,e){e===0&&(t.mode&1?(e=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):e=1);var n=Ue();t=Vt(t,e),t!==null&&(es(t,e,n),Xe(t,n))}function iv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),em(t,n)}function sv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),em(t,n)}var tm;tm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,q1(t,e,n);qe=!!(t.flags&131072)}else qe=!1,le&&e.flags&1048576&&sp(e,to,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;js(t,e),t=e.pendingProps;var i=Tr(e,Fe.current);_r(e,n),i=Hu(null,e,r,t,i,n);var s=Uu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(r)?(s=!0,Js(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mu(e),i.updater=jo,e.stateNode=i,i._reactInternals=e,ka(e,r,t,n),e=Na(null,e,r,!0,s,n)):(e.tag=0,le&&s&&Tu(e),He(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(js(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lv(r),t=yt(r,t),i){case 0:e=Ta(null,e,r,t,n);break e;case 1:e=Ud(null,e,r,t,n);break e;case 11:e=jd(null,e,r,t,n);break e;case 14:e=Hd(null,e,r,yt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),Ta(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),Ud(t,e,r,i,n);case 3:e:{if(Fp(e),t===null)throw Error(C(387));r=e.pendingProps,s=e.memoizedState,i=s.element,dp(t,e),io(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Dr(Error(C(423)),e),e=Bd(t,e,r,n,i);break e}else if(r!==i){i=Dr(Error(C(424)),e),e=Bd(t,e,r,n,i);break e}else for(et=un(e.stateNode.containerInfo.firstChild),tt=e,le=!0,_t=null,n=up(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===i){e=qt(t,e,n);break e}He(t,e,r,n)}e=e.child}return e;case 5:return hp(e),t===null&&xa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,va(r,i)?o=null:s!==null&&va(r,s)&&(e.flags|=32),Op(t,e),He(t,e,o,n),e.child;case 6:return t===null&&xa(e),null;case 13:return jp(t,e,n);case 4:return zu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pr(e,null,r,n):He(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),jd(t,e,r,i,n);case 7:return He(t,e,e.pendingProps,n),e.child;case 8:return He(t,e,e.pendingProps.children,n),e.child;case 12:return He(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ne(no,r._currentValue),r._currentValue=o,s!==null)if(St(s.value,o)){if(s.children===i.children&&!Ye.current){e=qt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Ut(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ea(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ea(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}He(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_r(e,n),i=ct(i),r=r(i),e.flags|=1,He(t,e,r,n),e.child;case 14:return r=e.type,i=yt(r,e.pendingProps),i=yt(r.type,i),Hd(t,e,r,i,n);case 15:return Mp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),js(t,e),e.tag=1,Ke(r)?(t=!0,Js(e)):t=!1,_r(e,n),Dp(e,r,i),ka(e,r,i,n),Na(null,e,r,!0,t,n);case 19:return Hp(t,e,n);case 22:return zp(t,e,n)}throw Error(C(156,e.tag))};function nm(t,e){return Nf(t,e)}function ov(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,n,r){return new ov(t,e,n,r)}function Xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lv(t){if(typeof t=="function")return Xu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gu)return 11;if(t===yu)return 14}return 2}function fn(t,e){var n=t.alternate;return n===null?(n=lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rr:return zn(n.children,i,s,e);case mu:o=8,i|=8;break;case Kl:return t=lt(12,n,e,i|2),t.elementType=Kl,t.lanes=s,t;case Xl:return t=lt(13,n,e,i),t.elementType=Xl,t.lanes=s,t;case Zl:return t=lt(19,n,e,i),t.elementType=Zl,t.lanes=s,t;case hf:return Bo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cf:o=10;break e;case df:o=9;break e;case gu:o=11;break e;case yu:o=14;break e;case Zt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=lt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zn(t,e,n,r){return t=lt(7,t,r,e),t.lanes=n,t}function Bo(t,e,n,r){return t=lt(22,t,r,e),t.elementType=hf,t.lanes=n,t.stateNode={isHidden:!1},t}function Dl(t,e,n){return t=lt(6,t,null,e),t.lanes=n,t}function bl(t,e,n){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function av(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zu(t,e,n,r,i,s,o,l,a){return t=new av(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(s),t}function uv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rm(t){if(!t)return vn;t=t._reactInternals;e:{if(Qn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Ke(n))return rp(t,n,e)}return e}function im(t,e,n,r,i,s,o,l,a){return t=Zu(n,r,!0,t,i,s,o,l,a),t.context=rm(null),n=t.current,r=Ue(),i=hn(n),s=Ut(r,i),s.callback=e??null,cn(n,s,i),t.current.lanes=i,es(t,i,r),Xe(t,r),t}function Wo(t,e,n,r){var i=e.current,s=Ue(),o=hn(i);return n=rm(n),e.context===null?e.context=n:e.pendingContext=n,e=Ut(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cn(i,e,o),t!==null&&(xt(t,i,o,s),zs(t,i,o)),o}function fo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ju(t,e){Zd(t,e),(t=t.alternate)&&Zd(t,e)}function cv(){return null}var sm=typeof reportError=="function"?reportError:function(t){console.error(t)};function ec(t){this._internalRoot=t}$o.prototype.render=ec.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Wo(t,e,null,null)};$o.prototype.unmount=ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bn(function(){Wo(null,t,null,null)}),e[$t]=null}};function $o(t){this._internalRoot=t}$o.prototype.unstable_scheduleHydration=function(t){if(t){var e=zf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<en.length&&e!==0&&e<en[n].priority;n++);en.splice(n,0,t),n===0&&Ff(t)}};function tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jd(){}function dv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fo(o);s.call(u)}}var o=im(e,r,t,0,null,!1,!1,"",Jd);return t._reactRootContainer=o,t[$t]=o.current,Ai(t.nodeType===8?t.parentNode:t),Bn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=fo(a);l.call(u)}}var a=Zu(t,0,!1,null,null,!1,!1,"",Jd);return t._reactRootContainer=a,t[$t]=a.current,Ai(t.nodeType===8?t.parentNode:t),Bn(function(){Wo(e,a,n,r)}),a}function qo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=fo(o);l.call(a)}}Wo(e,o,t,i)}else o=dv(n,e,t,i,r);return fo(o)}Af=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ci(e.pendingLanes);n!==0&&(Lu(e,n|1),Xe(e,ye()),!(V&6)&&(br=ye()+500,xn()))}break;case 13:Bn(function(){var r=Vt(t,1);if(r!==null){var i=Ue();xt(r,t,1,i)}}),Ju(t,1)}};wu=function(t){if(t.tag===13){var e=Vt(t,134217728);if(e!==null){var n=Ue();xt(e,t,134217728,n)}Ju(t,134217728)}};Mf=function(t){if(t.tag===13){var e=hn(t),n=Vt(t,e);if(n!==null){var r=Ue();xt(n,t,e,r)}Ju(t,e)}};zf=function(){return Q};Of=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};aa=function(t,e,n){switch(e){case"input":if(ta(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zo(r);if(!i)throw Error(C(90));pf(r),ta(r,i)}}}break;case"textarea":gf(t,n);break;case"select":e=n.value,e!=null&&mr(t,!!n.multiple,e,!1)}};xf=Qu;Ef=Bn;var hv={usingClientEntryPoint:!1,Events:[ns,lr,zo,wf,Cf,Qu]},ri={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fv={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=If(t),t===null?null:t.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||cv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Do=Ts.inject(fv),Pt=Ts}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(e))throw Error(C(200));return uv(t,e,null,n)};rt.createRoot=function(t,e){if(!tc(t))throw Error(C(299));var n=!1,r="",i=sm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zu(t,1,!1,null,null,n,!1,r,i),t[$t]=e.current,Ai(t.nodeType===8?t.parentNode:t),new ec(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=If(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Bn(t)};rt.hydrate=function(t,e,n){if(!Vo(e))throw Error(C(200));return qo(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!tc(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=im(e,null,t,1,n??null,i,!1,s,o),t[$t]=e.current,Ai(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $o(e)};rt.render=function(t,e,n){if(!Vo(e))throw Error(C(200));return qo(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!Vo(t))throw Error(C(40));return t._reactRootContainer?(Bn(function(){qo(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};rt.unstable_batchedUpdates=Qu;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vo(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return qo(t,e,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(om)}catch(t){console.error(t)}}om(),of.exports=rt;var pv=of.exports,eh=pv;Ql.createRoot=eh.createRoot,Ql.hydrateRoot=eh.hydrateRoot;const er=({card:t,onClick:e,isSelected:n,size:r="md"})=>{if(!t)return null;const i={sm:"w-12 h-16 text-xs",md:"w-20 h-28 text-sm",lg:"w-24 h-32 text-base"},s=()=>{var a;const l=((a=t.hanzi)==null?void 0:a.length)||0;return r==="sm"?l>=4?"text-[0.65rem]":l===3?"text-[0.75rem]":l===2?"text-xs":"text-xl":r==="md"?l>=4?"text-lg":l===3?"text-xl":l===2?"text-3xl":"text-5xl":"text-5xl"},o=()=>{var a;const l=((a=t.pinyin)==null?void 0:a.length)||0;return r==="sm"?"text-[0.5em]":l>10?"text-[0.65em]":"text-[0.8em]"};return y.jsxs("div",{onClick:e,className:`
        relative flex flex-col items-center justify-center gap-0.5 p-1
        bg-white border-[3px] border-[var(--color-stroke-primary)]
        rounded-[12px] cursor-pointer select-none transition-all duration-100 ease-out overflow-hidden
        type-${t.type}
        ${i[r]}
        ${n?"ring-4 ring-offset-2 ring-[var(--color-stroke-primary)] -translate-y-4":"tactile-press hover:-translate-y-1"}
      `,style:{boxShadow:n?"0px 10px 0px var(--color-stroke-primary)":""},children:[y.jsx("span",{className:`font-nunito font-bold text-[var(--color-stroke-primary)] opacity-80 leading-tight text-center w-full break-words ${o()}`,children:t.pinyin}),y.jsx("span",{className:`font-zcool leading-none text-center ${s()}`,style:{color:"var(--tile-accent)"},children:t.hanzi}),t.type==="wild"&&y.jsx("div",{className:"absolute top-0.5 right-0.5 text-[6px] md:text-[8px] bg-[var(--color-wild-purple)] text-white px-1 rounded-full z-10",children:"WIL"})]})},wr=[{id:"G-01",hanzi:"",pinyin:"gu",en:"(past tense)",type:"grammar",tier:"core"},{id:"G-02",hanzi:"",pinyin:"su rn",en:"although",type:"grammar",tier:"core"},{id:"G-03",hanzi:"",pinyin:"dn sh",en:"but",type:"grammar",tier:"core"},{id:"L1-01",hanzi:"",pinyin:"ho",en:"good",type:"adj",tier:"core"},{id:"L1-02",hanzi:"",pinyin:"n",en:"you",type:"noun",tier:"core",isPronoun:!0},{id:"L1-03",hanzi:"",pinyin:"w",en:"I/me",type:"noun",tier:"core",isPronoun:!0},{id:"L1-04",hanzi:"",pinyin:"jio",en:"to be called",type:"verb",tier:"core",isTransitive:!0},{id:"L1-05",hanzi:"",pinyin:"shn me",en:"what",type:"grammar",tier:"core"},{id:"L1-06",hanzi:"",pinyin:"mng zi",en:"name",type:"noun",tier:"core"},{id:"L1-07",hanzi:"",pinyin:"xng",en:"surname",type:"verb",tier:"core",isTransitive:!0},{id:"L1-08",hanzi:"",pinyin:"gu",en:"noble/expensive",type:"adj",tier:"core"},{id:"L1-09",hanzi:"",pinyin:"qng",en:"please/invite",type:"verb",tier:"core"},{id:"L1-10",hanzi:"",pinyin:"wn",en:"ask",type:"verb",tier:"core"},{id:"L1-11",hanzi:"",pinyin:"wng",en:"Wang (surname)",type:"noun",tier:"core"},{id:"L1-12",hanzi:"",pinyin:"l",en:"Li (surname)",type:"noun",tier:"core"},{id:"L1-13",hanzi:"",pinyin:"xio ji",en:"Miss",type:"noun",tier:"core"},{id:"L1-14",hanzi:"",pinyin:"xin sheng",en:"Mr.",type:"noun",tier:"core"},{id:"L1-15",hanzi:"",pinyin:"ne",en:"(particle)",type:"grammar",tier:"core"},{id:"L1-16",hanzi:"",pinyin:"png you",en:"friend",type:"noun",tier:"core"},{id:"L1-17",hanzi:"",pinyin:"zhng wn",en:"Chinese",type:"noun",tier:"core"},{id:"L1-18",hanzi:"",pinyin:"yng wn",en:"English",type:"noun",tier:"core"},{id:"L1-19",hanzi:"",pinyin:"b",en:"not/no",type:"grammar",tier:"core",isModifier:!0},{id:"L1-20",hanzi:"",pinyin:"sh",en:"is/am/are",type:"verb",tier:"core"},{id:"L1-21",hanzi:"",pinyin:"t",en:"he",type:"noun",tier:"core",isPronoun:!0},{id:"L1-22",hanzi:"",pinyin:"t",en:"she",type:"noun",tier:"core",isPronoun:!0},{id:"L1-23",hanzi:"",pinyin:"zh",en:"this",type:"noun",tier:"core",isDemonstrative:!0},{id:"L1-24",hanzi:"",pinyin:"n",en:"that",type:"noun",tier:"core",isDemonstrative:!0},{id:"L1-25",hanzi:"",pinyin:"y",en:"also",type:"grammar",tier:"core"},{id:"L1-26",hanzi:"",pinyin:"lo sh",en:"teacher",type:"noun",tier:"core"},{id:"L1-27",hanzi:"",pinyin:"xu sheng",en:"student",type:"noun",tier:"core"},{id:"L1-28",hanzi:"",pinyin:"ma",en:"(question)",type:"grammar",tier:"core"},{id:"L1-29",hanzi:"",pinyin:"rn",en:"person",type:"noun",tier:"core"},{id:"L1-30",hanzi:"",pinyin:"zhng gu",en:"China",type:"noun",tier:"core"},{id:"L1-31",hanzi:"",pinyin:"bi jng",en:"Beijing",type:"noun",tier:"core"},{id:"L1-32",hanzi:"",pinyin:"zh zi",en:"live in",type:"verb",tier:"core"},{id:"L1-33",hanzi:"",pinyin:"mi gu",en:"USA",type:"noun",tier:"core"},{id:"L1-34",hanzi:"",pinyin:"xi wi y",en:"Hawaii",type:"noun",tier:"core"},{id:"L1-35",hanzi:"",pinyin:"ni yu",en:"New York",type:"noun",tier:"core"},{id:"L2-01",hanzi:"",pinyin:"w men",en:"we/us",type:"noun",tier:"core",isPronoun:!0},{id:"L2-02",hanzi:"",pinyin:"n men",en:"you (pl)",type:"noun",tier:"core",isPronoun:!0},{id:"L2-03",hanzi:"",pinyin:"t men",en:"they",type:"noun",tier:"core",isPronoun:!0},{id:"L2-04",hanzi:"",pinyin:"du",en:"all/both",type:"grammar",tier:"core"},{id:"L2-05",hanzi:"",pinyin:"shu",en:"speak",type:"verb",tier:"core"},{id:"L2-06",hanzi:"",pinyin:"de",en:"(possessive)",type:"grammar",tier:"core"},{id:"L2-07",hanzi:"",pinyin:"w de",en:"my",type:"noun",tier:"core"},{id:"L2-08",hanzi:"",pinyin:"n de",en:"your",type:"noun",tier:"core"},{id:"L2-09",hanzi:"",pinyin:"t de",en:"his",type:"noun",tier:"core"},{id:"L2-10",hanzi:"",pinyin:"yu",en:"have",type:"verb",tier:"core",isTransitive:!0},{id:"L2-11",hanzi:"",pinyin:"mi yu",en:"not have",type:"verb",tier:"core",isTransitive:!0,isModifier:!0},{id:"L2-12",hanzi:"",pinyin:"h",en:"and",type:"grammar",tier:"core"},{id:"L2-13",hanzi:"",pinyin:"xing",en:"want/think",type:"verb",tier:"core",isTransitive:!0},{id:"L2-14",hanzi:"",pinyin:"x hun",en:"like",type:"verb",tier:"core",isTransitive:!0},{id:"L2-15",hanzi:"",pinyin:"b ba",en:"dad",type:"noun",tier:"core"},{id:"L2-16",hanzi:"",pinyin:"m ma",en:"mom",type:"noun",tier:"core"},{id:"L2-17",hanzi:"",pinyin:"ji jie",en:"older sister",type:"noun",tier:"core"},{id:"L2-18",hanzi:"",pinyin:"g ge",en:"older brother",type:"noun",tier:"core"},{id:"L2-19",hanzi:"",pinyin:"d di",en:"younger brother",type:"noun",tier:"core"},{id:"L2-20",hanzi:"",pinyin:"mi mei",en:"younger sister",type:"noun",tier:"core"},{id:"L2-21",hanzi:"",pinyin:"zho pin",en:"photo",type:"noun",tier:"core"},{id:"L2-22",hanzi:"",pinyin:"g",en:"(measure word)",type:"grammar",tier:"core",isUnit:!0},{id:"L2-23",hanzi:"",pinyin:"shi",en:"who",type:"noun",tier:"core",isPronoun:!0},{id:"L2-24",hanzi:"",pinyin:"ji",en:"home/family",type:"noun",tier:"core"},{id:"L2-25",hanzi:"",pinyin:"j",en:"how many",type:"grammar",tier:"core",isNumber:!0},{id:"L2-26",hanzi:"",pinyin:"ku",en:"(measure word)",type:"grammar",tier:"core",isUnit:!0},{id:"L2-27",hanzi:"",pinyin:"ling",en:"two",type:"noun",tier:"core",isNumber:!0},{id:"L2-28",hanzi:"",pinyin:"zu",en:"do",type:"verb",tier:"core",isTransitive:!0},{id:"L2-29",hanzi:"",pinyin:"gng zu",en:"work",type:"verb",tier:"core"},{id:"L2-30",hanzi:"",pinyin:"l sh",en:"lawyer",type:"noun",tier:"core"},{id:"L2-31",hanzi:"",pinyin:"y shng",en:"doctor",type:"noun",tier:"core"},{id:"L2-32",hanzi:"",pinyin:"zi",en:"at/in",type:"grammar",tier:"core"},{id:"L2-33",hanzi:"",pinyin:"n l",en:"where",type:"noun",tier:"core"},{id:"L2-34",hanzi:"",pinyin:"wi shn me",en:"why",type:"grammar",tier:"core"},{id:"L2-35",hanzi:"",pinyin:"yn wi",en:"because",type:"grammar",tier:"core"},{id:"L3-01",hanzi:"",pinyin:"yu",en:"month",type:"noun",tier:"core",isUnit:!0},{id:"L3-02",hanzi:"",pinyin:"ho",en:"day/number",type:"noun",tier:"core",isUnit:!0},{id:"L3-03",hanzi:"",pinyin:"xng q",en:"week",type:"noun",tier:"core"},{id:"L3-04",hanzi:"",pinyin:"jn tin",en:"today",type:"noun",tier:"core",isTime:!0},{id:"L3-05",hanzi:"",pinyin:"mng tin",en:"tomorrow",type:"noun",tier:"core",isTime:!0},{id:"L3-06",hanzi:"",pinyin:"zu tin",en:"yesterday",type:"noun",tier:"core",isTime:!0},{id:"L3-07",hanzi:"",pinyin:"xin zi",en:"now",type:"noun",tier:"core",isTime:!0},{id:"L3-08",hanzi:"",pinyin:"din",en:"o'clock",type:"noun",tier:"core",isUnit:!0},{id:"L3-09",hanzi:"",pinyin:"zo shang",en:"morning",type:"noun",tier:"core"},{id:"L3-10",hanzi:"",pinyin:"wn shang",en:"evening",type:"noun",tier:"core"},{id:"L3-11",hanzi:"",pinyin:"shng r",en:"birthday",type:"noun",tier:"core"},{id:"L3-12",hanzi:"",pinyin:"jn nin",en:"this year",type:"noun",tier:"core",isTime:!0},{id:"L3-13",hanzi:"",pinyin:"su",en:"years old",type:"noun",tier:"core",isUnit:!0},{id:"L3-14",hanzi:"",pinyin:"yo",en:"want/will",type:"verb",tier:"core"},{id:"L3-15",hanzi:"",pinyin:"gn",en:"with",type:"grammar",tier:"core"},{id:"L3-16",hanzi:"",pinyin:"hu",en:"can/know how",type:"verb",tier:"core"},{id:"L3-17",hanzi:"",pinyin:"kn",en:"look/watch",type:"verb",tier:"core"},{id:"L3-18",hanzi:"",pinyin:"q",en:"go",type:"verb",tier:"core"},{id:"L3-19",hanzi:"",pinyin:"li",en:"come",type:"verb",tier:"core"},{id:"L3-20",hanzi:"",pinyin:"k sh",en:"but",type:"grammar",tier:"core"},{id:"L3-21",hanzi:"",pinyin:"su y",en:"so",type:"grammar",tier:"core"},{id:"L3-22",hanzi:"",pinyin:"k y",en:"can/may",type:"verb",tier:"core"},{id:"L3-23",hanzi:"",pinyin:"zn me yng",en:"how is it",type:"grammar",tier:"core"},{id:"L3-24",hanzi:"",pinyin:"i",en:"love",type:"verb",tier:"core",isTransitive:!0},{id:"L3-25",hanzi:"",pinyin:"zi jin",en:"goodbye",type:"verb",tier:"core"},{id:"L3-26",hanzi:"",pinyin:"ch",en:"eat",type:"verb",tier:"core",isTransitive:!0},{id:"L3-27",hanzi:"",pinyin:"fn",en:"meal/rice",type:"noun",tier:"core"},{id:"L3-28",hanzi:"",pinyin:"xi xie",en:"thanks",type:"verb",tier:"core"},{id:"L3-29",hanzi:"",pinyin:"cn ji",en:"participate",type:"verb",tier:"core"},{id:"L3-30",hanzi:"",pinyin:"hn",en:"very",type:"adj",tier:"core",isModifier:!0},{id:"L3-31",hanzi:"",pinyin:"go xng",en:"happy",type:"adj",tier:"core"},{id:"L3-32",hanzi:"",pinyin:"hi",en:"still/also",type:"grammar",tier:"core"},{id:"L3-33",hanzi:"",pinyin:"xu xio",en:"school",type:"noun",tier:"core"},{id:"L3-34",hanzi:"",pinyin:"zh",en:"only",type:"grammar",tier:"core"},{id:"L3-35",hanzi:"",pinyin:"ci",en:"dish/cuisine",type:"noun",tier:"core"},{id:"L4-01",hanzi:"",pinyin:"zhu m",en:"weekend",type:"noun",tier:"core"},{id:"L4-02",hanzi:"",pinyin:"chng chng",en:"often",type:"grammar",tier:"core"},{id:"L4-03",hanzi:"",pinyin:"wi gu",en:"foreign",type:"noun",tier:"core"},{id:"L4-04",hanzi:"",pinyin:"qng k",en:"treat (host)",type:"verb",tier:"core"},{id:"L4-05",hanzi:"",pinyin:"i ho",en:"hobby",type:"noun",tier:"core"},{id:"L4-06",hanzi:"",pinyin:"dng xi",en:"things",type:"noun",tier:"core"},{id:"L4-07",hanzi:"",pinyin:"shng wng",en:"go online",type:"verb",tier:"core"},{id:"L4-08",hanzi:"",pinyin:"d qi",en:"play ball",type:"verb",tier:"core"},{id:"L4-09",hanzi:"",pinyin:"din yng",en:"movie",type:"noun",tier:"core"},{id:"L4-10",hanzi:"",pinyin:"chng g",en:"sing",type:"verb",tier:"core"},{id:"L4-11",hanzi:"",pinyin:"tng",en:"listen",type:"verb",tier:"core"},{id:"L4-12",hanzi:"",pinyin:"yn yu",en:"music",type:"noun",tier:"core"},{id:"L4-13",hanzi:"",pinyin:"yu de",en:"some",type:"noun",tier:"core"},{id:"L4-14",hanzi:"",pinyin:"de sh hou",en:"when...",type:"grammar",tier:"core"},{id:"L4-15",hanzi:"",pinyin:"fng xu",en:"finish school",type:"verb",tier:"core"},{id:"L4-16",hanzi:"",pinyin:"ho ji",en:"long time",type:"adj",tier:"core"},{id:"L4-17",hanzi:"",pinyin:"b cu",en:"not bad",type:"adj",tier:"core"},{id:"L4-18",hanzi:"",pinyin:"ju de",en:"think/feel",type:"verb",tier:"core",isTransitive:!0},{id:"L4-19",hanzi:"",pinyin:"yu y si",en:"interesting",type:"adj",tier:"core"},{id:"L4-20",hanzi:"",pinyin:"shu jio",en:"sleep",type:"verb",tier:"core"},{id:"L4-21",hanzi:"",pinyin:"sun le",en:"forget it",type:"verb",tier:"core"},{id:"L4-22",hanzi:"",pinyin:"zho",en:"find",type:"verb",tier:"core"},{id:"L4-23",hanzi:"",pinyin:"bi rn",en:"others",type:"noun",tier:"core"},{id:"L5-01",hanzi:"",pinyin:"kui",en:"fast",type:"adj",tier:"core"},{id:"L5-02",hanzi:"",pinyin:"jn li",en:"come in",type:"verb",tier:"core"},{id:"L5-03",hanzi:"",pinyin:"ji sho",en:"introduce",type:"verb",tier:"core",isTransitive:!0},{id:"L5-04",hanzi:"",pinyin:"y xi",en:"a bit",type:"grammar",tier:"core"},{id:"L5-05",hanzi:"",pinyin:"h",en:"drink",type:"verb",tier:"core",isTransitive:!0},{id:"L5-06",hanzi:"",pinyin:"shu",en:"water",type:"noun",tier:"core"},{id:"L5-07",hanzi:"",pinyin:"ch",en:"tea",type:"noun",tier:"core"},{id:"L5-08",hanzi:"",pinyin:"k fi",en:"coffee",type:"noun",tier:"core"},{id:"L5-09",hanzi:"",pinyin:"k l",en:"cola",type:"noun",tier:"core"},{id:"L5-10",hanzi:"",pinyin:"gu zh",en:"juice",type:"noun",tier:"core"},{id:"L5-11",hanzi:"",pinyin:"di",en:"bring",type:"verb",tier:"core"},{id:"L5-12",hanzi:"",pinyin:"pio liang",en:"pretty",type:"adj",tier:"core"},{id:"L5-13",hanzi:"",pinyin:"shui",en:"handsome",type:"adj",tier:"core"},{id:"L5-14",hanzi:"",pinyin:"zu",en:"sit",type:"verb",tier:"core"},{id:"L5-15",hanzi:"",pinyin:"du bu q",en:"sorry",type:"verb",tier:"core"},{id:"L5-16",hanzi:"",pinyin:"ba",en:"(suggestion)",type:"grammar",tier:"core"},{id:"L5-17",hanzi:"",pinyin:"y q",en:"together",type:"grammar",tier:"core"},{id:"L5-18",hanzi:"",pinyin:"lio tin",en:"chat",type:"verb",tier:"core"},{id:"L5-19",hanzi:"",pinyin:"ci",en:"only then",type:"grammar",tier:"core"},{id:"L5-20",hanzi:"",pinyin:"le",en:"(particle)",type:"grammar",tier:"core"},{id:"L5-21",hanzi:"",pinyin:"gi",en:"give/to",type:"verb",tier:"core"},{id:"L6-01",hanzi:"",pinyin:"zu",en:"most",type:"grammar",tier:"core"},{id:"L6-02",hanzi:"",pinyin:"y hu",en:"after",type:"noun",tier:"core"},{id:"L6-03",hanzi:"",pinyin:"y qin",en:"before",type:"noun",tier:"core"},{id:"L6-04",hanzi:"",pinyin:"b ho y si",en:"embarrassed",type:"adj",tier:"core"},{id:"L6-05",hanzi:"",pinyin:"yo shi",en:"if",type:"grammar",tier:"core"},{id:"L6-06",hanzi:"",pinyin:"din z yu jin",en:"email",type:"noun",tier:"core"},{id:"L6-07",hanzi:"",pinyin:"shu do",en:"receive",type:"verb",tier:"core"},{id:"L6-08",hanzi:"",pinyin:"f",en:"send",type:"verb",tier:"core",isTransitive:!0},{id:"L6-09",hanzi:"",pinyin:"xi",en:"write",type:"verb",tier:"core",isTransitive:!0},{id:"L6-10",hanzi:"",pinyin:"ji",en:"then/just",type:"grammar",tier:"core"},{id:"L6-11",hanzi:"",pinyin:"nn",en:"You (polite)",type:"noun",tier:"core",isPronoun:!0},{id:"L6-12",hanzi:"",pinyin:"d din hu",en:"make call",type:"verb",tier:"core"},{id:"L6-13",hanzi:"",pinyin:"n",en:"which",type:"grammar",tier:"core",isDemonstrative:!0},{id:"L6-14",hanzi:"",pinyin:"wi",en:"(measure)",type:"grammar",tier:"core",isUnit:!0},{id:"L6-15",hanzi:"",pinyin:"sh jin",en:"time",type:"noun",tier:"core",isTime:!0},{id:"L6-16",hanzi:"",pinyin:"ki hu",en:"meeting",type:"verb",tier:"core"},{id:"L6-17",hanzi:"",pinyin:"yu sh jin",en:"schedule",type:"verb",tier:"core"},{id:"L6-18",hanzi:"",pinyin:"shu j",en:"mobile",type:"noun",tier:"core"},{id:"L6-19",hanzi:"",pinyin:"ko sh",en:"exam",type:"noun",tier:"core"},{id:"L6-20",hanzi:"",pinyin:"fng bin",en:"convenient",type:"adj",tier:"core"},{id:"L6-21",hanzi:"",pinyin:"bn gng sh",en:"office",type:"noun",tier:"core"},{id:"L6-22",hanzi:"",pinyin:"dng",en:"wait",type:"verb",tier:"core"},{id:"L6-23",hanzi:"",pinyin:"bi",en:"don't",type:"grammar",tier:"core"},{id:"L6-24",hanzi:"",pinyin:"k qi",en:"polite",type:"adj",tier:"core"},{id:"L6-25",hanzi:"",pinyin:"bng",en:"help",type:"verb",tier:"core"},{id:"L6-26",hanzi:"",pinyin:"zhn bi",en:"prepare",type:"verb",tier:"core"},{id:"L6-27",hanzi:"",pinyin:"lin x",en:"practice",type:"verb",tier:"core"},{id:"L6-28",hanzi:"",pinyin:"di",en:"must",type:"grammar",tier:"core"},{id:"L6-29",hanzi:"",pinyin:"jin min",en:"meet",type:"verb",tier:"core"},{id:"L6-30",hanzi:"",pinyin:"hu li",en:"come back",type:"verb",tier:"core"},{id:"L6-31",hanzi:"",pinyin:"yng gi",en:"should",type:"verb",tier:"core"},{id:"L6-32",hanzi:"",pinyin:"zn me",en:"how",type:"grammar",tier:"core"},{id:"L4-24",hanzi:"",pinyin:"yu de sh hou",en:"sometimes",type:"grammar",tier:"core",isTime:!0},{id:"L4-25",hanzi:"",pinyin:"din z yu x",en:"video games",type:"noun",tier:"core"},{id:"L4-26",hanzi:"",pinyin:"d",en:"play/hit",type:"verb",tier:"core",isTransitive:!0},{id:"L4-27",hanzi:"",pinyin:"tio w",en:"dance",type:"verb",tier:"core"},{id:"L4-28",hanzi:"",pinyin:"ho wnr",en:"fun",type:"adj",tier:"core"},{id:"L4-29",hanzi:"",pinyin:"sh",en:"book",type:"noun",tier:"core"},{id:"L4-30",hanzi:"",pinyin:"hi bin",en:"seaside",type:"noun",tier:"core"},{id:"L4-31",hanzi:"",pinyin:"mng",en:"busy",type:"adj",tier:"core"},{id:"L4-32",hanzi:"",pinyin:"y si",en:"meaning",type:"noun",tier:"core"},{id:"L4-33",hanzi:"",pinyin:"y",en:"one",type:"noun",tier:"core",isNumber:!0},{id:"L4-34",hanzi:"",pinyin:"wnr",en:"play",type:"verb",tier:"core"},{id:"L4-35",hanzi:"",pinyin:"ji rn",en:"family members",type:"noun",tier:"core"},{id:"L4-36",hanzi:"",pinyin:"gng yun",en:"park",type:"noun",tier:"core"},{id:"L4-37",hanzi:"",pinyin:"jin",en:"see",type:"verb",tier:"core",isTransitive:!0},{id:"L5-22",hanzi:"'Iolani",pinyin:"'Iolani",en:"'Iolani",type:"noun",tier:"core"},{id:"L5-23",hanzi:"",pinyin:"shng",en:"attend/up",type:"verb",tier:"core",isTransitive:!0},{id:"L5-24",hanzi:"",pinyin:"k",en:"class",type:"noun",tier:"core"},{id:"L5-25",hanzi:"",pinyin:"gng k",en:"homework",type:"noun",tier:"core"},{id:"L5-26",hanzi:"",pinyin:"ti",en:"too",type:"adj",tier:"core",isModifier:!0},{id:"L5-27",hanzi:"",pinyin:"nn",en:"difficult",type:"adj",tier:"core"},{id:"L5-28",hanzi:"",pinyin:"s",en:"four",type:"noun",tier:"core",isNumber:!0},{id:"L5-29",hanzi:"",pinyin:"bn",en:"half",type:"noun",tier:"core",isNumber:!0},{id:"L5-30",hanzi:"",pinyin:"do",en:"arrive",type:"verb",tier:"core"},{id:"L5-31",hanzi:"",pinyin:"bi",en:"cup",type:"grammar",tier:"core",isUnit:!0},{id:"L5-32",hanzi:"",pinyin:"zhn zh ni ch",en:"boba tea",type:"noun",tier:"core"},{id:"L5-33",hanzi:"",pinyin:"l",en:"inside",type:"noun",tier:"core"},{id:"L5-34",hanzi:"",pinyin:"bng gn",en:"cookies",type:"noun",tier:"core"},{id:"L5-35",hanzi:"",pinyin:"shu gu",en:"fruit",type:"noun",tier:"core"},{id:"L5-36",hanzi:"",pinyin:"y dinr",en:"a little",type:"grammar",tier:"core"},{id:"L5-37",hanzi:"",pinyin:"hu",en:"return",type:"verb",tier:"core",isTransitive:!0},{id:"L5-38",hanzi:"",pinyin:"sh",en:"ten",type:"noun",tier:"core",isNumber:!0},{id:"L6-33",hanzi:"",pinyin:"hu",en:"after",type:"grammar",tier:"core"},{id:"L6-34",hanzi:"",pinyin:"shng w",en:"morning",type:"noun",tier:"core",isTime:!0},{id:"L6-35",hanzi:"",pinyin:"xi w",en:"afternoon",type:"noun",tier:"core",isTime:!0},{id:"L6-36",hanzi:"",pinyin:"dun xn",en:"text message",type:"noun",tier:"core"},{id:"L6-37",hanzi:"",pinyin:"k fi din",en:"coffee shop",type:"noun",tier:"core"},{id:"L6-38",hanzi:"",pinyin:"shng q",en:"angry",type:"adj",tier:"core"},{id:"L6-39",hanzi:"",pinyin:"bng gng",en:"helper",type:"noun",tier:"core"},{id:"L6-40",hanzi:"",pinyin:"zh do",en:"know",type:"verb",tier:"core",isTransitive:!0},{id:"L6-41",hanzi:"",pinyin:"zn me bn",en:"what to do",type:"verb",tier:"core"},{id:"L6-42",hanzi:"",pinyin:"zu hu",en:"finally",type:"noun",tier:"core",isTime:!0},{id:"w1",hanzi:"",pinyin:"Wild",en:"Any",type:"wild",tier:"core"}],mv=["L2-06","L5-20","L1-28","G-01","L2-35","L3-21","G-02","G-03"],lm=["L1-20","L2-32","L3-14","L2-13","L3-18","L2-14","L2-10","L2-11"],gv=t=>{for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t},Al=(t=40)=>{let e=[];const n=wr.filter(r=>!lm.includes(r.id));for(let r=0;r<t;r++){const i=n[r%n.length];e.push({...i,id:`${i.id}-${Date.now()}-${r}`})}return gv(e)},am=[{id:"L1",title:"Basic Identity",description:"Introducing yourself",vocabularyIds:["L1-01","L1-02","L1-03","L1-04","L1-05","L1-06","L1-07","L1-08","L1-09","L1-10","L1-11","L1-12","L1-13","L1-14","L1-15","L1-16","L1-17","L1-18","L1-19","L1-20","L1-21","L1-22","L1-23","L1-24","L1-25","L1-26","L1-27","L1-28","L1-29","L1-30","L1-31","L1-32","L1-33","L1-34","L1-35","L2-06"],problems:[{id:"L1-P1",prompt:'Translate: "I am a teacher"',solutions:["",""],requiredCardIds:["L1-03","L1-20","L1-26"]},{id:"L1-P2",prompt:'Translate: "You are a student"',solutions:["",""],requiredCardIds:["L1-02","L1-20","L1-27"]},{id:"L1-P3",prompt:'Translate: "Is he your friend?"',solutions:["",""],requiredCardIds:["L1-21","L1-20","L1-02","L2-06","L1-16","L1-28"]},{id:"L1-P4",prompt:'Translate: "I am not a teacher"',solutions:[""],requiredCardIds:["L1-03","L1-19","L1-20","L1-26"]},{id:"L1-P5",prompt:'Translate: "Are you American?"',solutions:[""],requiredCardIds:["L1-02","L1-20","L1-33","L1-29","L1-28"]},{id:"L1-P6",prompt:'Translate: "He lives in Beijing"',solutions:[""],requiredCardIds:["L1-21","L1-32","L1-31"]},{id:"L1-P7",prompt:'Translate: "What is her name?"',solutions:[""],requiredCardIds:["L1-22","L1-04","L1-05","L1-06"]},{id:"L1-P8",prompt:'Translate: "Are you Chinese?"',solutions:[""],requiredCardIds:["L1-02","L1-20","L1-30","L1-29","L1-28"]},{id:"L1-P9",prompt:'Translate: "Hello"',solutions:[""],requiredCardIds:["L1-02","L1-01"]},{id:"L1-P10",prompt:'Translate: "My surname is Wang"',solutions:[""],requiredCardIds:["L1-03","L1-07","L1-11"]},{id:"L1-P11",prompt:'Translate: "Is he a student?"',solutions:[""],requiredCardIds:["L1-21","L1-20","L1-27","L1-28"]},{id:"L1-P12",prompt:'Translate: "I ask you"',solutions:[""],requiredCardIds:["L1-03","L1-10","L1-02"]},{id:"L1-P13",prompt:'Translate: "May I ask teacher?"',solutions:["",""],requiredCardIds:["L1-09","L1-10","L1-26"]},{id:"L1-P14",prompt:'Translate: "She is Teacher Li"',solutions:[""],requiredCardIds:["L1-22","L1-20","L1-12","L1-26"]},{id:"L1-P15",prompt:'Translate: "Are you a teacher?"',solutions:["",""],requiredCardIds:["L1-02","L1-20","L1-26","L1-28"]},{id:"L1-P16",prompt:'Translate: "I am not a student"',solutions:[""],requiredCardIds:["L1-03","L1-19","L1-20","L1-27"]},{id:"L1-P17",prompt:'Translate: "Is she your friend?"',solutions:["",""],requiredCardIds:["L1-22","L1-20","L1-02","L2-06","L1-16","L1-28"]},{id:"L1-P18",prompt:'Translate: "Do you live in New York?"',solutions:[""],requiredCardIds:["L1-02","L1-32","L1-35","L1-28"]},{id:"L1-P19",prompt:'Translate: "He is Chinese"',solutions:[""],requiredCardIds:["L1-21","L1-20","L1-30","L1-29"]},{id:"L1-P20",prompt:'Translate: "Are you Miss Wang?"',solutions:[""],requiredCardIds:["L1-02","L1-20","L1-11","L1-13","L1-28"]}]},{id:"L2",title:"Likes & Dislikes",description:"Expressing preferences",vocabularyIds:["L2-01","L2-02","L2-03","L2-04","L2-05","L2-06","L2-07","L2-08","L2-09","L2-10","L2-11","L2-12","L2-13","L2-14","L2-15","L2-16","L2-17","L2-18","L2-19","L2-20","L2-21","L2-22","L2-23","L2-24","L2-25","L2-26","L2-27","L2-28","L2-29","L2-30","L2-31","L2-32","L2-33","L2-34","L2-35"],problems:[{id:"L2-P1",prompt:'Translate: "I like Chinese food"',solutions:["","","",""],requiredCardIds:["L1-03","L2-14","L1-30","L3-27","L3-35"]},{id:"L2-P2",prompt:'Translate: "I do not like exams"',solutions:[""],requiredCardIds:["L1-03","L1-19","L2-14","L6-19"]},{id:"L2-P3",prompt:'Translate: "We all like him"',solutions:[""],requiredCardIds:["L2-01","L2-04","L2-14","L1-21"]},{id:"L2-P4",prompt:'Translate: "I do not have a brother"',solutions:["",""],requiredCardIds:["L1-03","L2-11","L2-18"]},{id:"L2-P5",prompt:'Translate: "My dad is a doctor"',solutions:["",""],requiredCardIds:["L1-03","L2-15","L1-20","L2-31"]},{id:"L2-P6",prompt:'Translate: "She likes to work"',solutions:[""],requiredCardIds:["L1-22","L2-14","L2-29"]},{id:"L2-P7",prompt:'Translate: "We are all friends"',solutions:[""],requiredCardIds:["L2-01","L2-04","L1-20","L1-16"]},{id:"L2-P8",prompt:'Translate: "Whose photo is this?"',solutions:[""],requiredCardIds:["L1-23","L1-20","L2-23","L2-06","L2-21"]},{id:"L2-P9",prompt:'Translate: "How many people in your family?"',solutions:[""],requiredCardIds:["L1-02","L2-24","L2-10","L2-25","L2-26","L1-29"]},{id:"L2-P10",prompt:'Translate: "What do you want to do?"',solutions:[""],requiredCardIds:["L1-02","L2-13","L2-28","L1-05"]},{id:"L2-P11",prompt:'Translate: "I am not a lawyer"',solutions:[""],requiredCardIds:["L1-03","L1-19","L1-20","L2-30"]},{id:"L2-P12",prompt:'Translate: "Do you like him?"',solutions:[""],requiredCardIds:["L1-02","L2-14","L1-21","L1-28"]},{id:"L2-P13",prompt:'Translate: "Because I like Chinese"',solutions:[""],requiredCardIds:["L2-35","L1-03","L2-14","L1-17"]},{id:"L2-P14",prompt:'Translate: "Who is she?"',solutions:[""],requiredCardIds:["L1-22","L1-20","L2-23"]},{id:"L2-P15",prompt:'Translate: "Does he have a younger brother?"',solutions:[""],requiredCardIds:["L1-21","L2-10","L2-19","L1-28"]},{id:"L2-P16",prompt:'Translate: "We do not have photos"',solutions:[""],requiredCardIds:["L2-01","L2-11","L2-21"]},{id:"L2-P17",prompt:'Translate: "My older sister is a doctor"',solutions:["",""],requiredCardIds:["L1-03","L2-17","L1-20","L2-31"]},{id:"L2-P18",prompt:'Translate: "I want to be a lawyer"',solutions:[""],requiredCardIds:["L1-03","L2-13","L2-28","L2-30"]},{id:"L2-P19",prompt:'Translate: "Where does he work?"',solutions:[""],requiredCardIds:["L1-21","L2-32","L2-33","L2-29"]},{id:"L2-P20",prompt:'Translate: "They are all students"',solutions:[""],requiredCardIds:["L2-03","L2-04","L1-20","L1-27"]}]},{id:"L3",title:"Making Plans",description:"Time and arrangements",vocabularyIds:["L3-01","L3-02","L3-03","L3-04","L3-05","L3-06","L3-07","L3-08","L3-09","L3-10","L3-11","L3-12","L3-13","L3-14","L3-15","L3-16","L3-17","L3-18","L3-19","L3-20","L3-21","L3-22","L3-23","L3-24","L3-25","L3-26","L3-27","L3-28","L3-29","L3-30","L3-31","L3-32","L3-33","L3-34","L3-35"],problems:[{id:"L3-P1",prompt:'Translate: "Tomorrow evening"',solutions:[""],requiredCardIds:["L3-05","L3-10"]},{id:"L3-P2",prompt:'Translate: "I treat (pay for meal)"',solutions:[""],requiredCardIds:["L1-03","L4-04"]},{id:"L3-P3",prompt:'Translate: "Tomorrow evening I treat"',solutions:[""],requiredCardIds:["L3-05","L3-10","L1-03","L4-04"]},{id:"L3-P4",prompt:'Translate: "What time is it now?"',solutions:[""],requiredCardIds:["L3-07","L2-25","L3-08"]},{id:"L3-P5",prompt:'Translate: "I go to Beijing tomorrow"',solutions:["",""],requiredCardIds:["L1-03","L3-05","L3-18","L1-31"]},{id:"L3-P6",prompt:'Translate: "I like to eat Chinese food"',solutions:["",""],requiredCardIds:["L1-03","L2-14","L3-26","L1-30","L3-27","L3-35"]},{id:"L3-P7",prompt:'Translate: "Is Chinese food tasty?"',solutions:["",""],requiredCardIds:["L1-30","L3-27","L3-35","L1-01","L3-26","L1-28"]},{id:"L3-P8",prompt:'Translate: "Today is not my birthday"',solutions:[""],requiredCardIds:["L3-04","L1-19","L1-20","L2-07","L3-11"]},{id:"L3-P9",prompt:'Translate: "Do you like watching movies?"',solutions:[""],requiredCardIds:["L1-02","L2-14","L3-17","L4-09","L1-28"]},{id:"L3-P10",prompt:'Translate: "I go to school"',solutions:[""],requiredCardIds:["L1-03","L3-18","L3-33"]},{id:"L3-P11",prompt:'Translate: "Thank you teacher"',solutions:[""],requiredCardIds:["L3-28","L1-26"]},{id:"L3-P12",prompt:'Translate: "I am very happy"',solutions:[""],requiredCardIds:["L1-03","L3-30","L3-31"]},{id:"L3-P13",prompt:'Translate: "Come to my home"',solutions:[""],requiredCardIds:["L3-19","L1-03","L2-24"]},{id:"L3-P14",prompt:'Translate: "I go to see a friend"',solutions:[""],requiredCardIds:["L1-03","L3-18","L3-17","L1-16"]},{id:"L3-P15",prompt:'Translate: "Do you want to eat Chinese food?"',solutions:["",""],requiredCardIds:["L1-02","L3-14","L3-26","L1-30","L3-27","L3-35","L1-28"]},{id:"L3-P16",prompt:'Translate: "Is tomorrow your birthday?"',solutions:[""],requiredCardIds:["L3-05","L1-20","L1-02","L2-06","L3-11","L1-28"]},{id:"L3-P17",prompt:'Translate: "Goodbye"',solutions:[""],requiredCardIds:["L3-25"]},{id:"L3-P18",prompt:'Translate: "I am very good"',solutions:[""],requiredCardIds:["L1-03","L3-30","L1-01"]},{id:"L3-P19",prompt:'Translate: "Do you like school?"',solutions:[""],requiredCardIds:["L1-02","L2-14","L3-33","L1-28"]},{id:"L3-P20",prompt:'Translate: "I like to eat rice"',solutions:[""],requiredCardIds:["L1-03","L2-14","L3-26","L3-27"]}]},{id:"L4",title:"Hobbies & Free Time",description:"Activities and frequency",vocabularyIds:["L4-01","L4-02","L4-03","L4-04","L4-05","L4-06","L4-08","L4-09","L4-10","L4-11","L4-12","L4-13","L4-14","L4-15","L4-16","L4-17","L4-18","L4-19","L4-20","L4-21","L4-22","L4-23","L4-24","L4-25","L4-26","L4-27","L4-28","L4-29","L4-30","L4-31","L4-32","L4-33","L4-34","L4-35","L4-36","L4-37","L1-21","L1-22","L1-02","L1-03","L2-14","L2-32","L3-17","L2-35","L3-21","L2-11","L3-30","L3-31"],problems:[{id:"L4-P1",prompt:'Translate: "He is often at home on weekends"',solutions:[""],requiredCardIds:["L1-21","L4-01","L4-02","L2-32","L2-24"]},{id:"L4-P2",prompt:'Translate: "She sometimes watches movies"',solutions:[""],requiredCardIds:["L1-22","L4-24","L3-17","L4-09"]},{id:"L4-P3",prompt:'Translate: "He sometimes plays video games"',solutions:[""],requiredCardIds:["L1-21","L4-24","L4-26","L4-25"]},{id:"L4-P4",prompt:'Translate: "She likes to go dancing with friends"',solutions:[""],requiredCardIds:["L1-22","L2-14","L3-15","L1-16","L3-18","L4-27"]},{id:"L4-P5",prompt:'Translate: "He likes playing ball"',solutions:[""],requiredCardIds:["L1-21","L2-14","L4-08"]},{id:"L4-P6",prompt:'Translate: "She is not at home on weekends"',solutions:[""],requiredCardIds:["L1-22","L4-01","L1-19","L2-32","L2-24"]},{id:"L4-P7",prompt:'Translate: "He thinks watching movies is fun"',solutions:[""],requiredCardIds:["L1-21","L4-18","L3-17","L4-09","L3-30","L4-28"]},{id:"L4-P8",prompt:'Translate: "She thinks playing ball is boring (no meaning)"',solutions:[""],requiredCardIds:["L1-22","L4-18","L4-08","L2-11","L4-32"]},{id:"L4-P9",prompt:'Translate: "Some people like reading books"',solutions:[""],requiredCardIds:["L4-13","L1-29","L2-14","L3-17","L4-29"]},{id:"L4-P10",prompt:'Translate: "Some people like playing ball"',solutions:[""],requiredCardIds:["L4-13","L1-29","L2-14","L4-08"]},{id:"L4-P11",prompt:'Translate: "He often plays alone at home"',solutions:[""],requiredCardIds:["L1-21","L4-02","L4-33","L2-22","L1-29","L2-32","L2-24","L4-34"]},{id:"L4-P12",prompt:'Translate: "She goes to the seaside with family"',solutions:[""],requiredCardIds:["L1-22","L3-15","L4-35","L3-18","L4-30"]},{id:"L4-P13",prompt:'Translate: "Because he likes playing ball, so he goes to the park"',solutions:["",""],requiredCardIds:["L2-35","L1-21","L2-14","L4-08","L3-21","L3-18","L4-36"]},{id:"L4-P14",prompt:'Translate: "Because she is busy, so she does not come"',solutions:["",""],requiredCardIds:["L2-35","L1-22","L3-30","L4-31","L3-21","L1-19","L3-19"]},{id:"L4-P15",prompt:`Translate: "He hasn't seen his friend for a long time"`,solutions:[""],requiredCardIds:["L1-21","L4-16","L1-19","L4-37","L1-16","L5-20"]},{id:"L4-P16",prompt:'Translate: "Is she busy today?"',solutions:[""],requiredCardIds:["L1-22","L3-04","L4-31","L1-19","L4-31"]},{id:"L4-P17",prompt:'Translate: "He wants to find someone to play ball with"',solutions:[""],requiredCardIds:["L1-21","L2-13","L4-22","L1-29","L3-15","L1-21","L4-08"]},{id:"L4-P18",prompt:'Translate: "No one wants to play ball with him"',solutions:[""],requiredCardIds:["L2-11","L1-29","L2-13","L3-15","L1-21","L4-08"]},{id:"L4-P19",prompt:'Translate: "He goes to play ball alone"',solutions:[""],requiredCardIds:["L1-21","L4-33","L2-22","L1-29","L3-18","L4-08"]},{id:"L4-P20",prompt:'Translate: "He is very unhappy"',solutions:[""],requiredCardIds:["L1-21","L3-30","L1-19","L3-31"]}]},{id:"L5",title:"School Life",description:"Visiting friends & school",vocabularyIds:["L5-01","L5-02","L5-03","L5-04","L5-05","L5-06","L5-07","L5-08","L5-09","L5-10","L5-11","L5-12","L5-13","L5-14","L5-15","L5-16","L5-17","L5-18","L5-19","L5-20","L5-21","L5-22","L5-23","L5-24","L5-25","L5-26","L5-27","L5-28","L5-29","L5-30","L5-31","L5-32","L5-33","L5-34","L5-35","L5-36","L5-37","L5-38","L6-24","L1-20","L1-21","L2-06","L3-33","L2-03","L1-17","L2-35","L3-21","L2-11"],problems:[{id:"L5-P1",prompt:`Translate: "He is a student at 'Iolani School"`,solutions:["Iolani","Iolani"],requiredCardIds:["L1-21","L1-20","L5-22","L3-33","L2-06","L1-27"]},{id:"L5-P2",prompt:'Translate: "They attend Chinese class together"',solutions:[""],requiredCardIds:["L2-03","L5-17","L5-23","L1-17","L5-24"]},{id:"L5-P3",prompt:`Translate: "Because homework is too hard, he didn't do it"`,solutions:["",""],requiredCardIds:["L2-35","L5-25","L5-26","L5-27","L3-21","L1-21","L2-11","L2-28"]},{id:"L5-P4",prompt:`Translate: "He arrives at friend's home at 4:30"`,solutions:[""],requiredCardIds:["L1-21","L5-28","L3-08","L5-29","L5-30","L1-16","L2-06","L2-24"]},{id:"L5-P5",prompt:'Translate: "His mom is also at home"',solutions:[""],requiredCardIds:["L2-09","L2-16","L1-25","L2-32","L2-24"]},{id:"L5-P6",prompt:'Translate: "He wants to introduce his good friend"',solutions:[""],requiredCardIds:["L1-21","L2-13","L5-03","L2-09","L1-01","L1-16"]},{id:"L5-P7",prompt:'Translate: "He brought two cups of boba tea"',solutions:[""],requiredCardIds:["L1-21","L5-11","L5-20","L2-27","L5-31","L5-32"]},{id:"L5-P8",prompt:'Translate: "Mom says: You are too polite"',solutions:[""],requiredCardIds:["L2-16","L2-05","L1-02","L5-26","L6-24","L5-20"]},{id:"L5-P9",prompt:'Translate: "There are no cookies at home (Home inside no cookies)"',solutions:[""],requiredCardIds:["L2-24","L5-33","L2-11","L5-34"]},{id:"L5-P10",prompt:'Translate: "They have fruit"',solutions:[""],requiredCardIds:["L2-03","L2-10","L5-35"]},{id:"L5-P11",prompt:'Translate: "He wants to eat a little fruit"',solutions:[""],requiredCardIds:["L1-21","L2-13","L3-26","L5-36","L5-35"]},{id:"L5-P12",prompt:'Translate: "They chat, do not do homework"',solutions:["",""],requiredCardIds:["L2-03","L5-18","L1-19","L2-28","L5-25"]},{id:"L5-P13",prompt:'Translate: "He thinks homework is not hard"',solutions:[""],requiredCardIds:["L1-21","L4-18","L5-25","L1-19","L5-27"]},{id:"L5-P14",prompt:'Translate: "They want to do homework tomorrow"',solutions:[""],requiredCardIds:["L2-03","L2-13","L3-05","L2-28","L5-25"]},{id:"L5-P15",prompt:'Translate: "Mom is not happy"',solutions:[""],requiredCardIds:["L2-16","L1-19","L3-31"]},{id:"L5-P16",prompt:'Translate: "They play video games"',solutions:[""],requiredCardIds:["L2-03","L4-26","L4-25"]},{id:"L5-P17",prompt:'Translate: "They play together"',solutions:[""],requiredCardIds:["L2-03","L5-17","L4-34"]},{id:"L5-P18",prompt:'Translate: "He returns home at 10pm"',solutions:[""],requiredCardIds:["L1-21","L3-10","L5-38","L3-08","L5-37","L2-24"]},{id:"L5-P19",prompt:`Translate: "They didn't do Chinese homework"`,solutions:[""],requiredCardIds:["L2-03","L2-11","L2-28","L1-17","L5-25"]},{id:"L5-P20",prompt:'Translate: "Teacher will be unhappy"',solutions:[""],requiredCardIds:["L1-26","L3-16","L1-19","L3-31"]}]},{id:"L6",title:"Daily Life",description:"Time & sequencing",vocabularyIds:["L6-01","L6-02","L6-03","L6-04","L6-05","L6-06","L6-07","L6-08","L6-09","L6-10","L6-11","L6-12","L6-13","L6-14","L6-15","L6-16","L6-17","L6-18","L6-19","L6-20","L6-21","L6-22","L6-23","L6-24","L6-25","L6-26","L6-27","L6-28","L6-29","L6-30","L6-31","L6-32","L6-33","L6-34","L6-35","L6-36","L6-37","L6-38","L6-39","L6-40","L6-41","L6-42","L4-15","L1-21","L5-37","L2-24","L4-20","L3-17","L2-10","L5-24","L3-30","L4-31","L5-21","L1-16"],problems:[{id:"L6-P1",prompt:'Translate: "After school, he goes home"',solutions:[""],requiredCardIds:["L4-15","L6-33","L1-21","L5-37","L2-24"]},{id:"L6-P2",prompt:'Translate: "He does homework after returning home"',solutions:[""],requiredCardIds:["L1-21","L5-37","L2-24","L6-02","L2-28","L5-25"]},{id:"L6-P3",prompt:'Translate: "Before sleeping, he looks at phone"',solutions:[""],requiredCardIds:["L4-20","L6-03","L1-21","L3-17","L6-18"]},{id:"L6-P4",prompt:'Translate: "He has class in the morning"',solutions:[""],requiredCardIds:["L6-34","L1-21","L2-10","L5-24"]},{id:"L6-P5",prompt:'Translate: "He is very busy in the afternoon"',solutions:[""],requiredCardIds:["L6-35","L1-21","L3-30","L4-31"]},{id:"L6-P6",prompt:'Translate: "He calls a friend"',solutions:[""],requiredCardIds:["L1-21","L5-21","L1-16","L6-12"]},{id:"L6-P7",prompt:'Translate: "He texts a friend"',solutions:[""],requiredCardIds:["L1-21","L5-21","L1-16","L6-08","L6-36"]},{id:"L6-P8",prompt:`Translate: "He received friend's text"`,solutions:[""],requiredCardIds:["L1-21","L6-07","L1-16","L2-06","L6-36"]},{id:"L6-P9",prompt:'Translate: "Friend wants to schedule time with him"',solutions:[""],requiredCardIds:["L1-16","L2-13","L3-15","L1-21","L6-17"]},{id:"L6-P10",prompt:'Translate: "They meet at coffee shop"',solutions:[""],requiredCardIds:["L2-03","L2-32","L6-37","L6-29"]},{id:"L6-P11",prompt:`Translate: "Because it's convenient, they go to coffee shop"`,solutions:["",""],requiredCardIds:["L2-35","L3-30","L6-20","L3-21","L2-03","L3-18","L6-37"]},{id:"L6-P12",prompt:'Translate: "He has no time"',solutions:[""],requiredCardIds:["L1-21","L2-11","L6-15"]},{id:"L6-P13",prompt:'Translate: "He is not convenient now"',solutions:[""],requiredCardIds:["L1-21","L3-07","L1-19","L6-20"]},{id:"L6-P14",prompt:'Translate: "Sometimes he is very busy"',solutions:[""],requiredCardIds:["L4-24","L1-21","L3-30","L4-31"]},{id:"L6-P15",prompt:'Translate: "He thinks friend is very angry"',solutions:[""],requiredCardIds:["L1-21","L4-18","L1-16","L3-30","L6-38"]},{id:"L6-P16",prompt:'Translate: "He wants to chat with friend"',solutions:[""],requiredCardIds:["L1-21","L2-13","L3-15","L1-16","L5-18"]},{id:"L6-P17",prompt:'Translate: "Teacher is not present"',solutions:["",""],requiredCardIds:["L1-26","L1-19","L2-32"]},{id:"L6-P18",prompt:`Translate: "He waits for teacher's helper"`,solutions:[""],requiredCardIds:["L1-21","L6-22","L1-26","L2-06","L6-39"]},{id:"L6-P19",prompt:`Translate: "He doesn't know what to do"`,solutions:[""],requiredCardIds:["L1-21","L1-19","L6-40","L6-41"]},{id:"L6-P20",prompt:'Translate: "Finally, he went home"',solutions:[""],requiredCardIds:["L6-42","L1-21","L5-37","L2-24","L5-20"]}]}],yv=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw $r(e)},$r=function(t){return new Error("Firebase Database ("+um.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,h=s>>2,d=(s&3)<<4|l>>4;let c=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(c=64)),r.push(n[h],n[d],n[c],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new _v;const c=s<<2|l>>4;if(r.push(c),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dm=function(t){const e=cm(t);return nc.encodeByteArray(e,!0)},po=function(t){return dm(t).replace(/\./g,"")},Ua=function(t){try{return nc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){return hm(void 0,t)}function hm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wv(n)||(t[n]=hm(t[n],e[n]));return t}function wv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=()=>Cv().__FIREBASE_DEFAULTS__,Ev=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ua(t[1]);return e&&JSON.parse(e)},fm=()=>{try{return yv()||xv()||Ev()||Sv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kv=t=>{var e,n;return(n=(e=fm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Iv=t=>{const e=kv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pm=()=>{var t;return(t=fm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[po(JSON.stringify(n)),po(JSON.stringify(o)),l].join(".")}const wi={};function Pv(){const t={prod:[],emulator:[]};for(const e of Object.keys(wi))wi[e]?t.emulator.push(e):t.prod.push(e);return t}function Rv(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let th=!1;function Dv(t,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||wi[t]===e||wi[t]||th)return;wi[t]=e;function n(c){return`__firebase__banner__${c}`}const r="__firebase__banner",s=Pv().prod.length>0;function o(){const c=document.getElementById(r);c&&c.remove()}function l(c){c.style.display="flex",c.style.background="#7faaf0",c.style.position="fixed",c.style.bottom="5px",c.style.left="5px",c.style.padding=".5em",c.style.borderRadius="5px",c.style.alignItems="center"}function a(c,g){c.setAttribute("width","24"),c.setAttribute("id",g),c.setAttribute("height","24"),c.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill","none"),c.style.marginLeft="-6px"}function u(){const c=document.createElement("span");return c.style.cursor="pointer",c.style.marginLeft="16px",c.style.fontSize="24px",c.innerHTML=" &times;",c.onclick=()=>{th=!0,o()},c}function h(c,g){c.setAttribute("id",g),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline"}function d(){const c=Rv(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),L=n("learnmore"),b=document.getElementById(L)||document.createElement("a"),p=n("preprendIcon"),f=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.created){const m=c.element;l(m),h(b,L);const w=u();a(f,p),m.append(f,v,b,w),document.body.appendChild(m)}s?(v.innerText="Preview backend disconnected.",f.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(f.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bv())}function Av(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gm(){return um.NODE_ADMIN===!0}function Mv(){try{return typeof indexedDB=="object"}catch{return!1}}function zv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ov,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ym.prototype.create)}}class ym{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Fv(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ss(i,l,r)}}function Fv(t,e){return t.replace(jv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Wi(Ua(s[0])||""),n=Wi(Ua(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Hv=function(t){const e=vm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Uv=function(t){const e=vm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ar(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rh(s)&&rh(o)){if(!go(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const c=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(c<<1|c>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),h=1518500249):(u=s^o^l,h=1859775393):d<60?(u=s&o|l&(s|o),h=2400959708):(u=s^o^l,h=3395469782);const c=(i<<5|i>>>27)+u+a+h+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=c}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Go(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return t&&t._delegate?t._delegate:t}class $i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new is;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gv(e))try{this.getOrInitializeService({instanceIdentifier:Nn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nn){return this.instances.has(e)}getOptions(e=Nn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nn){return this.component?this.component.multipleInstances?e:Nn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qv(t){return t===Nn?void 0:t}function Gv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const Yv={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Kv=ee.INFO,Xv={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Zv=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Xv[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=Kv,this._logHandler=Zv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const Jv=(t,e)=>e.some(n=>t instanceof n);let ih,sh;function e_(){return ih||(ih=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t_(){return sh||(sh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lm=new WeakMap,Ba=new WeakMap,wm=new WeakMap,Ml=new WeakMap,ic=new WeakMap;function n_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lm.set(n,t)}).catch(()=>{}),ic.set(e,t),e}function r_(t){if(Ba.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ba.set(t,e)}let Wa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ba.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i_(t){Wa=t(Wa)}function s_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zl(this),e,...n);return wm.set(r,e.sort?e.sort():[e]),pn(r)}:t_().includes(t)?function(...e){return t.apply(zl(this),e),pn(Lm.get(this))}:function(...e){return pn(t.apply(zl(this),e))}}function o_(t){return typeof t=="function"?s_(t):(t instanceof IDBTransaction&&r_(t),Jv(t,e_())?new Proxy(t,Wa):t)}function pn(t){if(t instanceof IDBRequest)return n_(t);if(Ml.has(t))return Ml.get(t);const e=o_(t);return e!==t&&(Ml.set(t,e),ic.set(e,t)),e}const zl=t=>ic.get(t);function l_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=pn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(pn(o.result),a.oldVersion,a.newVersion,pn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const a_=["get","getKey","getAll","getAllKeys","count"],u_=["put","add","delete","clear"],Ol=new Map;function oh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ol.get(e))return Ol.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a_.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Ol.set(e,s),s}i_(t=>({...t,get:(e,n,r)=>oh(e,n)||t.get(e,n,r),has:(e,n)=>!!oh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $a="@firebase/app",lh="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt=new _m("@firebase/app"),h_="@firebase/app-compat",f_="@firebase/analytics-compat",p_="@firebase/analytics",m_="@firebase/app-check-compat",g_="@firebase/app-check",y_="@firebase/auth",v_="@firebase/auth-compat",__="@firebase/database",L_="@firebase/data-connect",w_="@firebase/database-compat",C_="@firebase/functions",x_="@firebase/functions-compat",E_="@firebase/installations",S_="@firebase/installations-compat",k_="@firebase/messaging",I_="@firebase/messaging-compat",T_="@firebase/performance",N_="@firebase/performance-compat",P_="@firebase/remote-config",R_="@firebase/remote-config-compat",D_="@firebase/storage",b_="@firebase/storage-compat",A_="@firebase/firestore",M_="@firebase/ai",z_="@firebase/firestore-compat",O_="firebase",F_="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]",j_={[$a]:"fire-core",[h_]:"fire-core-compat",[p_]:"fire-analytics",[f_]:"fire-analytics-compat",[g_]:"fire-app-check",[m_]:"fire-app-check-compat",[y_]:"fire-auth",[v_]:"fire-auth-compat",[__]:"fire-rtdb",[L_]:"fire-data-connect",[w_]:"fire-rtdb-compat",[C_]:"fire-fn",[x_]:"fire-fn-compat",[E_]:"fire-iid",[S_]:"fire-iid-compat",[k_]:"fire-fcm",[I_]:"fire-fcm-compat",[T_]:"fire-perf",[N_]:"fire-perf-compat",[P_]:"fire-rc",[R_]:"fire-rc-compat",[D_]:"fire-gcs",[b_]:"fire-gcs-compat",[A_]:"fire-fst",[z_]:"fire-fst-compat",[M_]:"fire-vertex","fire-js":"fire-js",[O_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,H_=new Map,qa=new Map;function ah(t,e){try{t.container.addComponent(e)}catch(n){Gt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(qa.has(e))return Gt.debug(`There were multiple attempts to register component ${e}.`),!1;qa.set(e,t);for(const n of yo.values())ah(n,t);for(const n of H_.values())ah(n,t);return!0}function U_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function B_(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mn=new ym("app","Firebase",W_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=F_;function Cm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Va,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mn.create("bad-app-name",{appName:String(i)});if(n||(n=pm()),!n)throw mn.create("no-options");const s=yo.get(i);if(s){if(go(n,s.options)&&go(r,s.config))return s;throw mn.create("duplicate-app",{appName:i})}const o=new Qv(i);for(const a of qa.values())o.addComponent(a);const l=new $_(n,r,o);return yo.set(i,l),l}function q_(t=Va){const e=yo.get(t);if(!e&&t===Va&&pm())return Cm();if(!e)throw mn.create("no-app",{appName:t});return e}function Cr(t,e,n){let r=j_[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gt.warn(o.join(" "));return}vo(new $i(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="firebase-heartbeat-database",Q_=1,Vi="firebase-heartbeat-store";let Fl=null;function xm(){return Fl||(Fl=l_(G_,Q_,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vi)}catch(n){console.warn(n)}}}}).catch(t=>{throw mn.create("idb-open",{originalErrorMessage:t.message})})),Fl}async function Y_(t){try{const n=(await xm()).transaction(Vi),r=await n.objectStore(Vi).get(Em(t));return await n.done,r}catch(e){if(e instanceof ss)Gt.warn(e.message);else{const n=mn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gt.warn(n.message)}}}async function uh(t,e){try{const r=(await xm()).transaction(Vi,"readwrite");await r.objectStore(Vi).put(e,Em(t)),await r.done}catch(n){if(n instanceof ss)Gt.warn(n.message);else{const r=mn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gt.warn(r.message)}}}function Em(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=1024,X_=30;class Z_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ch();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>X_){const o=t0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ch(),{heartbeatsToSend:r,unsentEntries:i}=J_(this._heartbeatsCache.heartbeats),s=po(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gt.warn(n),""}}}function ch(){return new Date().toISOString().substring(0,10)}function J_(t,e=K_){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mv()?zv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y_(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dh(t){return po(JSON.stringify({version:2,heartbeats:t})).length}function t0(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){vo(new $i("platform-logger",e=>new c_(e),"PRIVATE")),vo(new $i("heartbeat",e=>new Z_(e),"PRIVATE")),Cr($a,lh,t),Cr($a,lh,"esm2020"),Cr("fire-js","")}n0("");var r0="firebase",i0="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(r0,i0,"app");const hh="@firebase/database",fh="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm="";function s0(t){Sm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Dt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new o0(e)}}catch{}return new l0},An=km("localStorage"),Ga=km("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new _m("@firebase/database"),a0=function(){let t=1;return function(){return t++}}(),Im=function(t){const e=$v(t),n=new Wv;n.update(e);const r=n.digest();return nc.encodeByteArray(r)},os=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=os.apply(null,r):typeof r=="object"?e+=ke(r):e+=r,e+=" "}return e};let On=null,ph=!0;const u0=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xr.logLevel=ee.VERBOSE,On=xr.log.bind(xr),e&&Ga.set("logging_enabled",!0)):typeof t=="function"?On=t:(On=null,Ga.remove("logging_enabled"))},Pe=function(...t){if(ph===!0&&(ph=!1,On===null&&Ga.get("logging_enabled")===!0&&u0(!0)),On){const e=os.apply(null,t);On(e)}},ls=function(t){return function(...e){Pe(t,...e)}},Qa=function(...t){const e="FIREBASE INTERNAL ERROR: "+os(...t);xr.error(e)},Qt=function(...t){const e=`FIREBASE FATAL ERROR: ${os(...t)}`;throw xr.error(e),new Error(e)},Be=function(...t){const e="FIREBASE WARNING: "+os(...t);xr.warn(e)},c0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},d0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mr="[MIN_NAME]",Wn="[MAX_NAME]",Yn=function(t,e){if(t===e)return 0;if(t===Mr||e===Wn)return-1;if(e===Mr||t===Wn)return 1;{const n=mh(t),r=mh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},h0=function(t,e){return t===e?0:t<e?-1:1},ii=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},oc=function(t){if(typeof t!="object"||t===null)return ke(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ke(e[r]),n+=":",n+=oc(t[e[r]]);return n+="}",n},Tm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function be(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Nm=function(t){E(!sc(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(a=0;a<64;a+=8){let c=parseInt(h.substr(a,8),2).toString(16);c.length===1&&(c="0"+c),d=d+c}return d.toLowerCase()},f0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},p0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function m0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const g0=new RegExp("^-?(0*)\\d{1,10}$"),y0=-2147483648,v0=2147483647,mh=function(t){if(g0.test(t)){const e=Number(t);if(e>=y0&&e<=v0)return e}return null},qr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Be("Exception was thrown by user callback.",n),e},Math.floor(0))}},_0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ci=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,B_(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(e)}}class Er{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Er.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="5",Pm="v",Rm="s",Dm="r",bm="f",Am=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mm="ls",zm="p",Ya="ac",Om="websocket",Fm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=An.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&An.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function C0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Hm(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===Om)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Fm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);C0(t)&&(n.ns=t.namespace);const i=[];return be(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.counters_={}}incrementCounter(e,n=1){Dt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl={},Hl={};function ac(t){const e=t.toString();return jl[e]||(jl[e]=new x0),jl[e]}function E0(t,e){const n=t.toString();return Hl[n]||(Hl[n]=e()),Hl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&qr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="start",k0="close",I0="pLPCommand",T0="pRTLPCB",Um="id",Bm="pw",Wm="ser",N0="cb",P0="seg",R0="ts",D0="d",b0="dframe",$m=1870,Vm=30,A0=$m-Vm,M0=25e3,z0=3e4;class pr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ls(e),this.stats_=ac(n),this.urlFn=a=>(this.appCheckToken&&(a[Ya]=this.appCheckToken),Hm(n,Fm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new S0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(z0)),d0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uc((...s)=>{const[o,l,a,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===gh)this.id=l,this.password=a;else if(o===k0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[gh]="t",r[Wm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[N0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Pm]=lc,this.transportSessionId&&(r[Rm]=this.transportSessionId),this.lastSessionId&&(r[Mm]=this.lastSessionId),this.applicationId&&(r[zm]=this.applicationId),this.appCheckToken&&(r[Ya]=this.appCheckToken),typeof location<"u"&&location.hostname&&Am.test(location.hostname)&&(r[Dm]=bm);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pr.forceAllow_=!0}static forceDisallow(){pr.forceDisallow_=!0}static isAvailable(){return pr.forceAllow_?!0:!pr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!f0()&&!p0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dm(n),i=Tm(r,A0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[b0]="t",r[Um]=e,r[Bm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class uc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=a0(),window[I0+this.uniqueCallbackIdentifier]=e,window[T0+this.uniqueCallbackIdentifier]=n,this.myIFrame=uc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Pe("frame writing exception"),l.stack&&Pe(l.stack),Pe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Um]=this.myID,e[Bm]=this.myPW,e[Wm]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Vm+r.length<=$m;){const o=this.pendingSegs.shift();r=r+"&"+P0+i+"="+o.seg+"&"+R0+i+"="+o.ts+"&"+D0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(M0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=16384,F0=45e3;let _o=null;typeof MozWebSocket<"u"?_o=MozWebSocket:typeof WebSocket<"u"&&(_o=WebSocket);class Lt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ls(this.connId),this.stats_=ac(n),this.connURL=Lt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Pm]=lc,typeof location<"u"&&location.hostname&&Am.test(location.hostname)&&(o[Dm]=bm),n&&(o[Rm]=n),r&&(o[Mm]=r),i&&(o[Ya]=i),s&&(o[zm]=s),Hm(e,Om,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,An.set("previous_websocket_failure",!0);try{let r;gm(),this.mySock=new _o(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Lt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&_o!==null&&!Lt.forceDisallow_}static previouslyFailed(){return An.isInMemoryStorage||An.get("previous_websocket_failure")===!0}markConnectionHealthy(){An.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Tm(n,O0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(F0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Lt.responsesRequiredToBeHealthy=2;Lt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{static get ALL_TRANSPORTS(){return[pr,Lt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Lt&&Lt.isAvailable();let r=n&&!Lt.previouslyFailed();if(e.webSocketOnly&&(n||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Lt];else{const i=this.transports_=[];for(const s of qi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);qi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=6e4,H0=5e3,U0=10*1024,B0=100*1024,Ul="t",yh="d",W0="s",vh="r",$0="e",_h="o",Lh="a",wh="n",Ch="p",V0="h";class q0{constructor(e,n,r,i,s,o,l,a,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ls("c:"+this.id+":"),this.transportManager_=new qi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ci(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>B0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>U0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ul in e){const n=e[Ul];n===Lh?this.upgradeIfSecondaryHealthy_():n===vh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ii("t",e),r=ii("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ch,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ii("t",e),r=ii("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ii(Ul,e);if(yh in e){const r=e[yh];if(n===V0){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===wh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===W0?this.onConnectionShutdown_(r):n===vh?this.onReset_(r):n===$0?Qa("Server Error: "+r):n===_h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lc!==r&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ci(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(j0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ci(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(H0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ch,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(An.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Gm{static getInstance(){return new Lo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=32,Eh=768;class K{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function G(){return new K("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _n(t){return t.pieces_.length-t.pieceNum_}function te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new K(t.pieces_,e)}function cc(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function G0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Gi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Qm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new K(e,0)}function me(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof K)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new K(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){const n=j(t),r=j(e);if(n===null)return e;if(n===r)return Ge(te(t),te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Q0(t,e){const n=Gi(t,0),r=Gi(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Yn(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function dc(t,e){if(_n(t)!==_n(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function at(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_n(t)>_n(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Y0{constructor(e,n){this.errorPrefix_=n,this.parts_=Gi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qo(this.parts_[r]);Ym(this)}}function K0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qo(e),Ym(t)}function X0(t){const e=t.parts_.pop();t.byteLength_-=Qo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ym(t){if(t.byteLength_>Eh)throw new Error(t.errorPrefix_+"has a key path longer than "+Eh+" bytes ("+t.byteLength_+").");if(t.parts_.length>xh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xh+") or object contains a cycle "+Pn(t))}function Pn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Gm{static getInstance(){return new hc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=1e3,Z0=60*5*1e3,Sh=30*1e3,J0=1.3,eL=3e4,tL="server_kill",kh=3;class Bt extends qm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Bt.nextPersistentConnectionId_++,this.log_=ls("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=si,this.maxReconnectDelay_=Z0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!gm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ke(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new is,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Bt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Dt(e,"w")){const r=Ar(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Uv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Hv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ke(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Qa("Unrecognized action received from server: "+ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eL&&(this.reconnectDelay_=si),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*J0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Bt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,c]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=c&&c.token,l=new q0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Be(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(tL)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Be(d),a())}}}interrupt(e){Pe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nh(this.interruptReasons_)&&(this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>oc(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new K(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Pe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kh&&(this.reconnectDelay_=Sh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Sm.replace(/\./g,"-")]=1,mm()?e["framework.cordova"]=1:Av()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lo.getInstance().currentlyOnline();return nh(this.interruptReasons_)&&e}}Bt.nextPersistentConnectionId_=0;Bt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new H(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new H(Mr,e),i=new H(Mr,n);return this.compare(r,i)!==0}minPost(){return H.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns;class Km extends Yo{static get __EMPTY_NODE(){return Ns}static set __EMPTY_NODE(e){Ns=e}compare(e,n){return Yn(e.name,n.name)}isDefinedOn(e){throw $r("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return H.MIN}maxPost(){return new H(Wn,Ns)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new H(e,Ns)}toString(){return".key"}}const Sr=new Km;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ee{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ee.RED,this.left=i??Qe.EMPTY_NODE,this.right=s??Qe.EMPTY_NODE}copy(e,n,r,i,s){return new Ee(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ee.RED=!0;Ee.BLACK=!1;class nL{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ee(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qe{constructor(e,n=Qe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Qe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ee.BLACK,null,null))}remove(e){return new Qe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ee.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ps(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ps(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ps(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ps(this.root_,null,this.comparator_,!0,e)}}Qe.EMPTY_NODE=new nL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e){return Yn(t.name,e.name)}function fc(t,e){return Yn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;function iL(t){Ka=t}const Xm=function(t){return typeof t=="number"?"number:"+Nm(t):"string:"+t},Zm=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Dt(e,".sv"),"Priority must be a string or number.")}else E(t===Ka||t.isEmpty(),"priority of unexpected type.");E(t===Ka||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih;class Ce{static set __childrenNodeConstructor(e){Ih=e}static get __childrenNodeConstructor(){return Ih}constructor(e,n=Ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Zm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ce(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return U(e)?this:j(e)===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=j(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||_n(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(te(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Nm(this.value_):e+=this.value_,this.lazyHash_=Im(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ce.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ce.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ce.VALUE_TYPE_ORDER.indexOf(n),s=Ce.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm,eg;function sL(t){Jm=t}function oL(t){eg=t}class lL extends Yo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Yn(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return H.MIN}maxPost(){return new H(Wn,new Ce("[PRIORITY-POST]",eg))}makePost(e,n){const r=Jm(e);return new H(n,new Ce("[PRIORITY-POST]",r))}toString(){return".priority"}}const ge=new lL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=Math.log(2);class uL{constructor(e){const n=s=>parseInt(Math.log(s)/aL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wo=function(t,e,n,r){t.sort(e);const i=function(a,u){const h=u-a;let d,c;if(h===0)return null;if(h===1)return d=t[a],c=n?n(d):d,new Ee(c,d.node,Ee.BLACK,null,null);{const g=parseInt(h/2,10)+a,v=i(a,g),L=i(g+1,u);return d=t[g],c=n?n(d):d,new Ee(c,d.node,Ee.BLACK,v,L)}},s=function(a){let u=null,h=null,d=t.length;const c=function(v,L){const b=d-v,p=d;d-=v;const f=i(b+1,p),m=t[b],w=n?n(m):m;g(new Ee(w,m.node,L,null,f))},g=function(v){u?(u.left=v,u=v):(h=v,u=v)};for(let v=0;v<a.count;++v){const L=a.nextBitIsOne(),b=Math.pow(2,a.count-(v+1));L?c(b,Ee.BLACK):(c(b,Ee.BLACK),c(b,Ee.RED))}return h},o=new uL(t.length),l=s(o);return new Qe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;const tr={};class Ht{static get Default(){return E(tr&&ge,"ChildrenNode.ts has not been loaded"),Bl=Bl||new Ht({".priority":tr},{".priority":ge}),Bl}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ar(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qe?n:null}hasIndex(e){return Dt(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(H.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=wo(r,e.getCompare()):l=tr;const a=e.toString(),u={...this.indexSet_};u[a]=e;const h={...this.indexes_};return h[a]=l,new Ht(h,u)}addToIndexes(e,n){const r=mo(this.indexes_,(i,s)=>{const o=Ar(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===tr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(H.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),wo(l,o.getCompare())}else return tr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new H(e.name,l))),a.insert(e,e.node)}});return new Ht(r,this.indexSet_)}removeFromIndexes(e,n){const r=mo(this.indexes_,i=>{if(i===tr)return i;{const s=n.get(e.name);return s?i.remove(new H(e.name,s)):i}});return new Ht(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi;class z{static get EMPTY_NODE(){return oi||(oi=new z(new Qe(fc),null,Ht.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Zm(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oi}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?oi:n}}getChild(e){const n=j(e);return n===null?this:this.getImmediateChild(n).getChild(te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new H(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?oi:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=j(e);if(r===null)return n;{E(j(e)!==".priority"||_n(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(te(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ge,(o,l)=>{n[o]=l.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xm(this.getPriority().val())+":"),this.forEachChild(ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Im(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new H(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new H(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new H(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,H.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,H.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===as?-1:0}withIndex(e){if(e===Sr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ge),i=n.getIterator(ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Sr?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class cL extends z{constructor(){super(new Qe(fc),z.EMPTY_NODE,Ht.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const as=new cL;Object.defineProperties(H,{MIN:{value:new H(Mr,z.EMPTY_NODE)},MAX:{value:new H(Wn,as)}});Km.__EMPTY_NODE=z.EMPTY_NODE;Ce.__childrenNodeConstructor=z;iL(as);oL(as);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=!0;function Se(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ce(n,Se(e))}if(!(t instanceof Array)&&dL){const n=[];let r=!1;if(be(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Se(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new H(o,a)))}}),n.length===0)return z.EMPTY_NODE;const s=wo(n,rL,o=>o.name,fc);if(r){const o=wo(n,ge.getCompare());return new z(s,Se(e),new Ht({".priority":o},{".priority":ge}))}else return new z(s,Se(e),Ht.Default)}else{let n=z.EMPTY_NODE;return be(t,(r,i)=>{if(Dt(t,r)&&r.substring(0,1)!=="."){const s=Se(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Se(e))}}sL(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL extends Yo{constructor(e){super(),this.indexPath_=e,E(!U(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Yn(e.name,n.name):s}makePost(e,n){const r=Se(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new H(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,as);return new H(Wn,e)}toString(){return Gi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL extends Yo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Yn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return H.MIN}maxPost(){return H.MAX}makePost(e,n){const r=Se(e);return new H(n,r)}toString(){return".value"}}const pL=new fL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return{type:"value",snapshotNode:t}}function zr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Yi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Qi(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(zr(n,r)):o.trackChildChange(Yi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(Qi(i,s))}),n.isLeafNode()||n.forEachChild(ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Yi(i,s,o))}else r.trackChildChange(zr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.indexedFilter_=new pc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ki.getStartPost_(e),this.endPost_=Ki.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new H(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(z.EMPTY_NODE);const s=this;return n.forEachChild(ge,(o,l)=>{s.matches(new H(o,l))||(i=i.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ki(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new H(n,r))||(r=z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(c,g)=>d(g,c)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const a=new H(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let c=i.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);const g=c==null?1:o(c,a);if(h&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Yi(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Qi(n,d));const L=l.updateImmediateChild(n,z.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(s!=null&&s.trackChildChange(zr(c.name,c.node)),L.updateImmediateChild(c.name,c.node)):L}}else return r.isEmpty()?e:h&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Qi(u.name,u.node)),s.trackChildChange(zr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mr}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const e=new mc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yL(t){return t.loadsAllData()?new pc(t.getIndex()):t.hasLimit()?new gL(t):new Ki(t)}function Th(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ge?n="$priority":t.index_===pL?n="$value":t.index_===Sr?n="$key":(E(t.index_ instanceof hL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ke(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Nh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends qm{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ls("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Co.getListenId_(e,r),l={};this.listens_[o]=l;const a=Th(e._queryParams);this.restRequest_(s+".json",a,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Ar(this.listens_,o)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",i(c,null)}})}unlisten(e,n){const r=Co.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Th(e._queryParams),r=e._path.toString(),i=new is;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Wi(l.responseText)}catch{Be("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Be("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return{value:null,children:new Map}}function ng(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=j(e);t.children.has(r)||t.children.set(r,xo());const i=t.children.get(r);e=te(e),ng(i,e,n)}}function Xa(t,e,n){t.value!==null?n(e,t.value):_L(t,(r,i)=>{const s=new K(e.toString()+"/"+r);Xa(i,s,n)})}function _L(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&be(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=10*1e3,wL=30*1e3,CL=5*60*1e3;class xL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LL(e);const r=Ph+(wL-Ph)*Math.random();Ci(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;be(e,(i,s)=>{s>0&&Dt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ci(this.reportStats_.bind(this),Math.floor(Math.random()*2*CL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wt||(wt={}));function gc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wt.ACK_USER_WRITE,this.source=gc()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new K(e));return new Eo(G(),n,this.revert)}}else return E(j(this.path)===e,"operationForChild called for unrelated child."),new Eo(te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.source=e,this.path=n,this.type=wt.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new Xi(this.source,G()):new Xi(this.source,te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wt.OVERWRITE}operationForChild(e){return U(this.path)?new $n(this.source,G(),this.snap.getImmediateChild(e)):new $n(this.source,te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wt.MERGE}operationForChild(e){if(U(this.path)){const n=this.children.subtree(new K(e));return n.isEmpty()?null:n.value?new $n(this.source,G(),n.value):new Or(this.source,G(),n)}else return E(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Or(this.source,te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;const n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function SL(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(mL(o.childName,o.snapshotNode))}),li(t,i,"child_removed",e,r,n),li(t,i,"child_added",e,r,n),li(t,i,"child_moved",s,r,n),li(t,i,"child_changed",e,r,n),li(t,i,"value",e,r,n),i}function li(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>IL(t,l,a)),o.forEach(l=>{const a=kL(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function kL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function IL(t,e,n){if(e.childName==null||n.childName==null)throw $r("Should only compare child_ events.");const r=new H(e.childName,e.snapshotNode),i=new H(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t,e){return{eventCache:t,serverCache:e}}function xi(t,e,n,r){return Ko(new Vn(e,n,r),t.serverCache)}function rg(t,e,n,r){return Ko(t.eventCache,new Vn(e,n,r))}function Za(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;const TL=()=>(Wl||(Wl=new Qe(h0)),Wl);class J{static fromObject(e){let n=new J(null);return be(e,(r,i)=>{n=n.set(new K(r),i)}),n}constructor(e,n=TL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(U(e))return null;{const r=j(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(te(e),n);return s!=null?{path:me(new K(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{const n=j(e),r=this.children.get(n);return r!==null?r.subtree(te(e)):new J(null)}}set(e,n){if(U(e))return new J(n,this.children);{const r=j(e),s=(this.children.get(r)||new J(null)).set(te(e),n),o=this.children.insert(r,s);return new J(this.value,o)}}remove(e){if(U(e))return this.children.isEmpty()?new J(null):new J(null,this.children);{const n=j(e),r=this.children.get(n);if(r){const i=r.remove(te(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new J(null):new J(this.value,s)}else return this}}get(e){if(U(e))return this.value;{const n=j(e),r=this.children.get(n);return r?r.get(te(e)):null}}setTree(e,n){if(U(e))return n;{const r=j(e),s=(this.children.get(r)||new J(null)).setTree(te(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new J(this.value,o)}}fold(e){return this.fold_(G(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,G(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(U(e))return null;{const s=j(e),o=this.children.get(s);return o?o.findOnPath_(te(e),me(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,G(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);const i=j(e),s=this.children.get(i);return s?s.foreachOnPath_(te(e),me(n,i),r):new J(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.writeTree_=e}static empty(){return new Et(new J(null))}}function Ei(t,e,n){if(U(e))return new Et(new J(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ge(i,e);return s=s.updateChild(o,n),new Et(t.writeTree_.set(i,s))}else{const i=new J(n),s=t.writeTree_.setTree(e,i);return new Et(s)}}}function Ja(t,e,n){let r=t;return be(n,(i,s)=>{r=Ei(r,me(e,i),s)}),r}function Rh(t,e){if(U(e))return Et.empty();{const n=t.writeTree_.setTree(e,new J(null));return new Et(n)}}function eu(t,e){return Kn(t,e)!=null}function Kn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function Dh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(r,i)=>{e.push(new H(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new H(r,i.value))}),e}function gn(t,e){if(U(e))return t;{const n=Kn(t,e);return n!=null?new Et(new J(n)):new Et(t.writeTree_.subtree(e))}}function tu(t){return t.writeTree_.isEmpty()}function Fr(t,e){return ig(G(),t.writeTree_,e)}function ig(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ig(me(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(me(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e){return ag(e,t)}function NL(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ei(t.visibleWrites,e,n)),t.lastWriteId=r}function PL(t,e,n,r){E(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ja(t.visibleWrites,e,n),t.lastWriteId=r}function RL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function DL(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&bL(l,r.path)?i=!1:at(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return AL(t),!0;if(r.snap)t.visibleWrites=Rh(t.visibleWrites,r.path);else{const l=r.children;be(l,a=>{t.visibleWrites=Rh(t.visibleWrites,me(r.path,a))})}return!0}else return!1}function bL(t,e){if(t.snap)return at(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&at(me(t.path,n),e))return!0;return!1}function AL(t){t.visibleWrites=sg(t.allWrites,ML,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ML(t){return t.visible}function sg(t,e,n){let r=Et.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)at(n,o)?(l=Ge(n,o),r=Ei(r,l,s.snap)):at(o,n)&&(l=Ge(o,n),r=Ei(r,G(),s.snap.getChild(l)));else if(s.children){if(at(n,o))l=Ge(n,o),r=Ja(r,l,s.children);else if(at(o,n))if(l=Ge(o,n),U(l))r=Ja(r,G(),s.children);else{const a=Ar(s.children,j(l));if(a){const u=a.getChild(te(l));r=Ei(r,G(),u)}}}else throw $r("WriteRecord should have .snap or .children")}}return r}function og(t,e,n,r,i){if(!r&&!i){const s=Kn(t.visibleWrites,e);if(s!=null)return s;{const o=gn(t.visibleWrites,e);if(tu(o))return n;if(n==null&&!eu(o,G()))return null;{const l=n||z.EMPTY_NODE;return Fr(o,l)}}}else{const s=gn(t.visibleWrites,e);if(!i&&tu(s))return n;if(!i&&n==null&&!eu(s,G()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(at(u.path,e)||at(e,u.path))},l=sg(t.allWrites,o,e),a=n||z.EMPTY_NODE;return Fr(l,a)}}}function zL(t,e,n){let r=z.EMPTY_NODE;const i=Kn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=gn(t.visibleWrites,e);return n.forEachChild(ge,(o,l)=>{const a=Fr(gn(s,new K(o)),l);r=r.updateImmediateChild(o,a)}),Dh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=gn(t.visibleWrites,e);return Dh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function OL(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=me(e,n);if(eu(t.visibleWrites,s))return null;{const o=gn(t.visibleWrites,s);return tu(o)?i.getChild(n):Fr(o,i.getChild(n))}}function FL(t,e,n,r){const i=me(e,n),s=Kn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=gn(t.visibleWrites,i);return Fr(o,r.getNode().getImmediateChild(n))}else return null}function jL(t,e){return Kn(t.visibleWrites,e)}function HL(t,e,n,r,i,s,o){let l;const a=gn(t.visibleWrites,e),u=Kn(a,G());if(u!=null)l=u;else if(n!=null)l=Fr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),c=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=c.getNext();for(;g&&h.length<i;)d(g,r)!==0&&h.push(g),g=c.getNext();return h}else return[]}function UL(){return{visibleWrites:Et.empty(),allWrites:[],lastWriteId:-1}}function So(t,e,n,r){return og(t.writeTree,t.treePath,e,n,r)}function Lc(t,e){return zL(t.writeTree,t.treePath,e)}function bh(t,e,n,r){return OL(t.writeTree,t.treePath,e,n,r)}function ko(t,e){return jL(t.writeTree,me(t.treePath,e))}function BL(t,e,n,r,i,s){return HL(t.writeTree,t.treePath,e,n,r,i,s)}function wc(t,e,n){return FL(t.writeTree,t.treePath,e,n)}function lg(t,e){return ag(me(t.treePath,e),t.writeTree)}function ag(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Yi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Qi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,zr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Yi(r,e.snapshotNode,i.oldSnap));else throw $r("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ug=new $L;class Cc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qn(this.viewCache_),s=BL(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){return{filter:t}}function qL(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function GL(t,e,n,r,i){const s=new WL;let o,l;if(n.type===wt.OVERWRITE){const u=n;u.source.fromUser?o=nu(t,e,u.path,u.snap,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!U(u.path),o=Io(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===wt.MERGE){const u=n;u.source.fromUser?o=YL(t,e,u.path,u.children,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=ru(t,e,u.path,u.children,r,i,l,s))}else if(n.type===wt.ACK_USER_WRITE){const u=n;u.revert?o=ZL(t,e,u.path,r,i,s):o=KL(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===wt.LISTEN_COMPLETE)o=XL(t,e,n.path,r,s);else throw $r("Unknown operation type: "+n.type);const a=s.getChanges();return QL(e,o,a),{viewCache:o,changes:a}}function QL(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Za(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(tg(Za(e)))}}function cg(t,e,n,r,i,s){const o=e.eventCache;if(ko(r,n)!=null)return e;{let l,a;if(U(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=qn(e),h=u instanceof z?u:z.EMPTY_NODE,d=Lc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=So(r,qn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=j(n);if(u===".priority"){E(_n(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const d=bh(r,n,h,a);d!=null?l=t.filter.updatePriority(h,d):l=o.getNode()}else{const h=te(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const c=bh(r,n,o.getNode(),a);c!=null?d=o.getNode().getImmediateChild(u).updateChild(h,c):d=o.getNode().getImmediateChild(u)}else d=wc(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,h,i,s):l=o.getNode()}}return xi(e,l,o.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function Io(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(U(n))u=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=h.updateFullNode(a.getNode(),g,null)}else{const g=j(n);if(!a.isCompleteForPath(n)&&_n(n)>1)return e;const v=te(n),b=a.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=h.updatePriority(a.getNode(),b):u=h.updateChild(a.getNode(),g,b,v,ug,null)}const d=rg(e,u,a.isFullyInitialized()||U(n),h.filtersNodes()),c=new Cc(i,d,s);return cg(t,d,n,i,c,l)}function nu(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const h=new Cc(i,e,s);if(U(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=xi(e,u,!0,t.filter.filtersNodes());else{const d=j(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=xi(e,u,l.isFullyInitialized(),l.isFiltered());else{const c=te(n),g=l.getNode().getImmediateChild(d);let v;if(U(c))v=r;else{const L=h.getCompleteChild(d);L!=null?cc(c)===".priority"&&L.getChild(Qm(c)).isEmpty()?v=L:v=L.updateChild(c,r):v=z.EMPTY_NODE}if(g.equals(v))a=e;else{const L=t.filter.updateChild(l.getNode(),d,v,c,h,o);a=xi(e,L,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ah(t,e){return t.eventCache.isCompleteForChild(e)}function YL(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const h=me(n,a);Ah(e,j(h))&&(l=nu(t,l,h,u,i,s,o))}),r.foreach((a,u)=>{const h=me(n,a);Ah(e,j(h))||(l=nu(t,l,h,u,i,s,o))}),l}function Mh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ru(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;U(n)?u=r:u=new J(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,c)=>{if(h.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),v=Mh(t,g,c);a=Io(t,a,new K(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,c)=>{const g=!e.serverCache.isCompleteForChild(d)&&c.value===null;if(!h.hasChild(d)&&!g){const v=e.serverCache.getNode().getImmediateChild(d),L=Mh(t,v,c);a=Io(t,a,new K(d),L,i,s,o,l)}}),a}function KL(t,e,n,r,i,s,o){if(ko(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(U(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Io(t,e,n,a.getNode().getChild(n),i,s,l,o);if(U(n)){let u=new J(null);return a.getNode().forEachChild(Sr,(h,d)=>{u=u.set(new K(h),d)}),ru(t,e,n,u,i,s,l,o)}else return e}else{let u=new J(null);return r.foreach((h,d)=>{const c=me(n,h);a.isCompleteForPath(c)&&(u=u.set(h,a.getNode().getChild(c)))}),ru(t,e,n,u,i,s,l,o)}}function XL(t,e,n,r,i){const s=e.serverCache,o=rg(e,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return cg(t,o,n,r,ug,i)}function ZL(t,e,n,r,i,s){let o;if(ko(r,n)!=null)return e;{const l=new Cc(r,e,i),a=e.eventCache.getNode();let u;if(U(n)||j(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=So(r,qn(e));else{const d=e.serverCache.getNode();E(d instanceof z,"serverChildren would be complete if leaf node"),h=Lc(r,d)}h=h,u=t.filter.updateFullNode(a,h,s)}else{const h=j(n);let d=wc(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=a.getImmediateChild(h)),d!=null?u=t.filter.updateChild(a,h,d,te(n),l,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(a,h,z.EMPTY_NODE,te(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=So(r,qn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ko(r,G())!=null,xi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new pc(r.getIndex()),s=yL(r);this.processor_=VL(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(z.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(z.EMPTY_NODE,l.getNode(),null),h=new Vn(a,o.isFullyInitialized(),i.filtersNodes()),d=new Vn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ko(d,h),this.eventGenerator_=new EL(this.query_)}get query(){return this.query_}}function ew(t){return t.viewCache_.serverCache.getNode()}function tw(t,e){const n=qn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function zh(t){return t.eventRegistrations_.length===0}function nw(t,e){t.eventRegistrations_.push(e)}function Oh(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Fh(t,e,n,r){e.type===wt.MERGE&&e.source.queryId!==null&&(E(qn(t.viewCache_),"We should always have a full cache before handling merges"),E(Za(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=GL(t.processor_,i,e,n,r);return qL(t.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,dg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function rw(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(s,o)=>{r.push(zr(s,o))}),n.isFullyInitialized()&&r.push(tg(n.getNode())),dg(t,r,n.getNode(),e)}function dg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return SL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class iw{constructor(){this.views=new Map}}function sw(t){E(!To,"__referenceConstructor has already been defined"),To=t}function ow(){return E(To,"Reference.ts has not been loaded"),To}function lw(t){return t.views.size===0}function xc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),Fh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Fh(o,e,n,r));return s}}function aw(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=So(n,i?r:null),a=!1;l?a=!0:r instanceof z?(l=Lc(n,r),a=!1):(l=z.EMPTY_NODE,a=!1);const u=Ko(new Vn(l,a,!1),new Vn(r,i,!1));return new JL(e,u)}return o}function uw(t,e,n,r,i,s){const o=aw(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),nw(o,n),rw(o,n)}function cw(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Ln(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Oh(u,n,r)),zh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Oh(a,n,r)),zh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Ln(t)&&s.push(new(ow())(e._repo,e._path)),{removed:s,events:o}}function hg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kr(t,e){let n=null;for(const r of t.views.values())n=n||tw(r,e);return n}function fg(t,e){if(e._queryParams.loadsAllData())return Xo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function pg(t,e){return fg(t,e)!=null}function Ln(t){return Xo(t)!=null}function Xo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;function dw(t){E(!No,"__referenceConstructor has already been defined"),No=t}function hw(){return E(No,"Reference.ts has not been loaded"),No}let fw=1;class jh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new J(null),this.pendingWriteTree_=UL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mg(t,e,n,r,i){return NL(t.pendingWriteTree_,e,n,r,i),i?Gr(t,new $n(gc(),e,n)):[]}function pw(t,e,n,r){PL(t.pendingWriteTree_,e,n,r);const i=J.fromObject(n);return Gr(t,new Or(gc(),e,i))}function sn(t,e,n=!1){const r=RL(t.pendingWriteTree_,e);if(DL(t.pendingWriteTree_,e)){let s=new J(null);return r.snap!=null?s=s.set(G(),!0):be(r.children,o=>{s=s.set(new K(o),!0)}),Gr(t,new Eo(r.path,s,n))}else return[]}function Zo(t,e,n){return Gr(t,new $n(yc(),e,n))}function mw(t,e,n){const r=J.fromObject(n);return Gr(t,new Or(yc(),e,r))}function gw(t,e){return Gr(t,new Xi(yc(),e))}function yw(t,e,n){const r=Sc(t,n);if(r){const i=kc(r),s=i.path,o=i.queryId,l=Ge(s,e),a=new Xi(vc(o),l);return Ic(t,s,a)}else return[]}function iu(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||pg(o,e))){const a=cw(o,e,n,r);lw(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const h=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(c,g)=>Ln(g));if(h&&!d){const c=t.syncPointTree_.subtree(s);if(!c.isEmpty()){const g=Lw(c);for(let v=0;v<g.length;++v){const L=g[v],b=L.query,p=vg(t,L);t.listenProvider_.startListening(Si(b),Po(t,b),p.hashFn,p.onComplete)}}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(Si(e),null):u.forEach(c=>{const g=t.queryToTagMap.get(Jo(c));t.listenProvider_.stopListening(Si(c),g)}))}ww(t,u)}return l}function vw(t,e,n,r){const i=Sc(t,r);if(i!=null){const s=kc(i),o=s.path,l=s.queryId,a=Ge(o,e),u=new $n(vc(l),a,n);return Ic(t,o,u)}else return[]}function _w(t,e,n,r){const i=Sc(t,r);if(i){const s=kc(i),o=s.path,l=s.queryId,a=Ge(o,e),u=J.fromObject(n),h=new Or(vc(l),a,u);return Ic(t,o,h)}else return[]}function Hh(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(c,g)=>{const v=Ge(c,i);s=s||kr(g,v),o=o||Ln(g)});let l=t.syncPointTree_.get(i);l?(o=o||Ln(l),s=s||kr(l,G())):(l=new iw,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const L=kr(v,G());L&&(s=s.updateImmediateChild(g,L))}));const u=pg(l,e);if(!u&&!e._queryParams.loadsAllData()){const c=Jo(e);E(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const g=Cw();t.queryToTagMap.set(c,g),t.tagToQueryMap.set(g,c)}const h=_c(t.pendingWriteTree_,i);let d=uw(l,e,n,h,s,a);if(!u&&!o&&!r){const c=fg(l,e);d=d.concat(xw(t,e,c))}return d}function Ec(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ge(o,e),u=kr(l,a);if(u)return u});return og(i,e,s,n,!0)}function Gr(t,e){return gg(e,t.syncPointTree_,null,_c(t.pendingWriteTree_,G()))}function gg(t,e,n,r){if(U(t.path))return yg(t,e,n,r);{const i=e.get(G());n==null&&i!=null&&(n=kr(i,G()));let s=[];const o=j(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,h=lg(r,o);s=s.concat(gg(l,a,u,h))}return i&&(s=s.concat(xc(i,t,r,n))),s}}function yg(t,e,n,r){const i=e.get(G());n==null&&i!=null&&(n=kr(i,G()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=lg(r,o),h=t.operationForChild(o);h&&(s=s.concat(yg(h,l,a,u)))}),i&&(s=s.concat(xc(i,t,r,n))),s}function vg(t,e){const n=e.query,r=Po(t,n);return{hashFn:()=>(ew(e)||z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?yw(t,n._path,r):gw(t,n._path);{const s=m0(i,n);return iu(t,n,null,s)}}}}function Po(t,e){const n=Jo(e);return t.queryToTagMap.get(n)}function Jo(t){return t._path.toString()+"$"+t._queryIdentifier}function Sc(t,e){return t.tagToQueryMap.get(e)}function kc(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new K(t.substr(0,e))}}function Ic(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const i=_c(t.pendingWriteTree_,e);return xc(r,n,i,null)}function Lw(t){return t.fold((e,n,r)=>{if(n&&Ln(n))return[Xo(n)];{let i=[];return n&&(i=hg(n)),be(r,(s,o)=>{i=i.concat(o)}),i}})}function Si(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hw())(t._repo,t._path):t}function ww(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Jo(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Cw(){return fw++}function xw(t,e,n){const r=e._path,i=Po(t,e),s=vg(t,n),o=t.listenProvider_.startListening(Si(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)E(!Ln(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,h,d)=>{if(!U(u)&&h&&Ln(h))return[Xo(h).query];{let c=[];return h&&(c=c.concat(hg(h).map(g=>g.query))),be(d,(g,v)=>{c=c.concat(v)}),c}});for(let u=0;u<a.length;++u){const h=a[u];t.listenProvider_.stopListening(Si(h),Po(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tc(n)}node(){return this.node_}}class Nc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=me(this.path_,e);return new Nc(this.syncTree_,n)}node(){return Ec(this.syncTree_,this.path_)}}const Ew=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Uh=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Sw(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kw(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Sw=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},kw=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},_g=function(t,e,n,r){return Pc(e,new Nc(n,t),r)},Lg=function(t,e,n){return Pc(t,new Tc(e),n)};function Pc(t,e,n){const r=t.getPriority().val(),i=Uh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Uh(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ce(l,Se(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ce(i))),o.forEachChild(ge,(l,a)=>{const u=Pc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Dc(t,e){let n=e instanceof K?e:new K(e),r=t,i=j(n);for(;i!==null;){const s=Ar(r.node.children,i)||{children:{},childCount:0};r=new Rc(i,r,s),n=te(n),i=j(n)}return r}function Qr(t){return t.node.value}function wg(t,e){t.node.value=e,su(t)}function Cg(t){return t.node.childCount>0}function Iw(t){return Qr(t)===void 0&&!Cg(t)}function el(t,e){be(t.node.children,(n,r)=>{e(new Rc(n,t,r))})}function xg(t,e,n,r){n&&!r&&e(t),el(t,i=>{xg(i,e,!0,r)}),n&&r&&e(t)}function Tw(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function us(t){return new K(t.parent===null?t.name:us(t.parent)+"/"+t.name)}function su(t){t.parent!==null&&Nw(t.parent,t.name,t)}function Nw(t,e,n){const r=Iw(n),i=Dt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,su(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,su(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=/[\[\].#$\/\u0000-\u001F\u007F]/,Rw=/[\[\].#$\u0000-\u001F\u007F]/,$l=10*1024*1024,bc=function(t){return typeof t=="string"&&t.length!==0&&!Pw.test(t)},Eg=function(t){return typeof t=="string"&&t.length!==0&&!Rw.test(t)},Dw=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Eg(t)},bw=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!sc(t)||t&&typeof t=="object"&&Dt(t,".sv")},Sg=function(t,e,n,r){r&&e===void 0||tl(Go(t,"value"),e,n)},tl=function(t,e,n){const r=n instanceof K?new Y0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pn(r)+" with contents = "+e.toString());if(sc(e))throw new Error(t+"contains "+e.toString()+" "+Pn(r));if(typeof e=="string"&&e.length>$l/3&&Qo(e)>$l)throw new Error(t+"contains a string greater than "+$l+" utf8 bytes "+Pn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(be(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Pn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K0(r,o),tl(t,l,r),X0(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pn(r)+" in addition to actual children.")}},Aw=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Gi(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!bc(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Q0);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&at(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Mw=function(t,e,n,r){if(r&&e===void 0)return;const i=Go(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];be(e,(o,l)=>{const a=new K(o);if(tl(i,l,me(n,a)),cc(a)===".priority"&&!bw(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),Aw(i,s)},kg=function(t,e,n,r){if(!(r&&n===void 0)&&!Eg(n))throw new Error(Go(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zw=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kg(t,e,n,r)},Ac=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Ow=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Dw(n))throw new Error(Go(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nl(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!dc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ig(t,e,n){nl(t,n),Tg(t,r=>dc(r,e))}function kt(t,e,n){nl(t,n),Tg(t,r=>at(r,e)||at(e,r))}function Tg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(jw(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jw(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();On&&Pe("event: "+n.toString()),qr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="repo_interrupt",Uw=25;class Bw{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xo(),this.transactionQueueTree_=new Rc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ww(t,e,n){if(t.stats_=ac(t.repoInfo_),t.forceRestClient_||_0())t.server_=new Co(t.repoInfo_,(r,i,s,o)=>{Bh(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Wh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Bt(t.repoInfo_,e,(r,i,s,o)=>{Bh(t,r,i,s,o)},r=>{Wh(t,r)},r=>{$w(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=E0(t.repoInfo_,()=>new xL(t.stats_,t.server_)),t.infoData_=new vL,t.infoSyncTree_=new jh({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Zo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Mc(t,"connected",!1),t.serverSyncTree_=new jh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);kt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Ng(t){const n=t.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rl(t){return Ew({timestamp:Ng(t)})}function Bh(t,e,n,r,i){t.dataUpdateCount++;const s=new K(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=mo(n,u=>Se(u));o=_w(t.serverSyncTree_,s,a,i)}else{const a=Se(n);o=vw(t.serverSyncTree_,s,a,i)}else if(r){const a=mo(n,u=>Se(u));o=mw(t.serverSyncTree_,s,a)}else{const a=Se(n);o=Zo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=jr(t,s)),kt(t.eventQueue_,l,o)}function Wh(t,e){Mc(t,"connected",e),e===!1&&Gw(t)}function $w(t,e){be(e,(n,r)=>{Mc(t,n,r)})}function Mc(t,e,n){const r=new K("/.info/"+e),i=Se(n);t.infoData_.updateSnapshot(r,i);const s=Zo(t.infoSyncTree_,r,i);kt(t.eventQueue_,r,s)}function zc(t){return t.nextWriteId_++}function Vw(t,e,n,r,i){il(t,"set",{path:e.toString(),value:n,priority:r});const s=rl(t),o=Se(n,r),l=Ec(t.serverSyncTree_,e),a=Lg(o,l,s),u=zc(t),h=mg(t.serverSyncTree_,e,a,u,!0);nl(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(c,g)=>{const v=c==="ok";v||Be("set at "+e+" failed: "+c);const L=sn(t.serverSyncTree_,u,!v);kt(t.eventQueue_,e,L),ou(t,i,c,g)});const d=Fc(t,e);jr(t,d),kt(t.eventQueue_,d,[])}function qw(t,e,n,r){il(t,"update",{path:e.toString(),value:n});let i=!0;const s=rl(t),o={};if(be(n,(l,a)=>{i=!1,o[l]=_g(me(e,l),Se(a),t.serverSyncTree_,s)}),i)Pe("update() called with empty data.  Don't do anything."),ou(t,r,"ok",void 0);else{const l=zc(t),a=pw(t.serverSyncTree_,e,o,l);nl(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,h)=>{const d=u==="ok";d||Be("update at "+e+" failed: "+u);const c=sn(t.serverSyncTree_,l,!d),g=c.length>0?jr(t,e):e;kt(t.eventQueue_,g,c),ou(t,r,u,h)}),be(n,u=>{const h=Fc(t,me(e,u));jr(t,h)}),kt(t.eventQueue_,e,[])}}function Gw(t){il(t,"onDisconnectEvents");const e=rl(t),n=xo();Xa(t.onDisconnect_,G(),(i,s)=>{const o=_g(i,s,t.serverSyncTree_,e);ng(n,i,o)});let r=[];Xa(n,G(),(i,s)=>{r=r.concat(Zo(t.serverSyncTree_,i,s));const o=Fc(t,i);jr(t,o)}),t.onDisconnect_=xo(),kt(t.eventQueue_,G(),r)}function Qw(t,e,n){let r;j(e._path)===".info"?r=Hh(t.infoSyncTree_,e,n):r=Hh(t.serverSyncTree_,e,n),Ig(t.eventQueue_,e._path,r)}function $h(t,e,n){let r;j(e._path)===".info"?r=iu(t.infoSyncTree_,e,n):r=iu(t.serverSyncTree_,e,n),Ig(t.eventQueue_,e._path,r)}function Yw(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Hw)}function il(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pe(n,...e)}function ou(t,e,n,r){e&&qr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Pg(t,e,n){return Ec(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Oc(t,e=t.transactionQueueTree_){if(e||sl(t,e),Qr(e)){const n=Dg(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Kw(t,us(e),n)}else Cg(e)&&el(e,n=>{Oc(t,n)})}function Kw(t,e,n){const r=n.map(u=>u.currentWriteId),i=Pg(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];E(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Ge(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{il(t,"transaction put response",{path:a.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let c=0;c<n.length;c++)n[c].status=2,h=h.concat(sn(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&d.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();sl(t,Dc(t.transactionQueueTree_,e)),Oc(t,t.transactionQueueTree_),kt(t.eventQueue_,e,h);for(let c=0;c<d.length;c++)qr(d[c])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Be("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}jr(t,e)}},o)}function jr(t,e){const n=Rg(t,e),r=us(n),i=Dg(t,n);return Xw(t,i,r),r}function Xw(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Ge(n,a.path);let h=!1,d;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,d=a.abortReason,i=i.concat(sn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Uw)h=!0,d="maxretry",i=i.concat(sn(t.serverSyncTree_,a.currentWriteId,!0));else{const c=Pg(t,a.path,o);a.currentInputSnapshot=c;const g=e[l].update(c.val());if(g!==void 0){tl("transaction failed: Data returned ",g,a.path);let v=Se(g);typeof g=="object"&&g!=null&&Dt(g,".priority")||(v=v.updatePriority(c.getPriority()));const b=a.currentWriteId,p=rl(t),f=Lg(v,c,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=f,a.currentWriteId=zc(t),o.splice(o.indexOf(b),1),i=i.concat(mg(t.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(sn(t.serverSyncTree_,b,!0))}else h=!0,d="nodata",i=i.concat(sn(t.serverSyncTree_,a.currentWriteId,!0))}kt(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(c){setTimeout(c,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}sl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)qr(r[l]);Oc(t,t.transactionQueueTree_)}function Rg(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&Qr(r)===void 0;)r=Dc(r,n),e=te(e),n=j(e);return r}function Dg(t,e){const n=[];return bg(t,e,n),n.sort((r,i)=>r.order-i.order),n}function bg(t,e,n){const r=Qr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);el(e,i=>{bg(t,i,n)})}function sl(t,e){const n=Qr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wg(e,n.length>0?n:void 0)}el(e,r=>{sl(t,r)})}function Fc(t,e){const n=us(Rg(t,e)),r=Dc(t.transactionQueueTree_,e);return Tw(r,i=>{Vl(t,i)}),Vl(t,r),xg(r,i=>{Vl(t,i)}),n}function Vl(t,e){const n=Qr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wg(e,void 0):n.length=s+1,kt(t.eventQueue_,us(e),i);for(let o=0;o<r.length;o++)qr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Jw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Be(`Invalid query segment '${n}' in query '${t}'`)}return e}const Vh=function(t,e){const n=eC(t),r=n.namespace;n.domain==="firebase.com"&&Qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||c0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jm(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new K(n.pathString)}},eC=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=Zw(t.substring(h,d)));const c=Jw(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in c&&(s=c.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tC=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=qh.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=qh.charAt(e[i]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}}class Mg{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:cc(this._path)}get ref(){return new Kt(this._repo,this._path)}get _queryIdentifier(){const e=Nh(this._queryParams),n=oc(e);return n==="{}"?"default":n}get _queryObject(){return Nh(this._queryParams)}isEqual(e){if(e=Vr(e),!(e instanceof jc))return!1;const n=this._repo===e._repo,r=dc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+G0(this._path)}}class Kt extends jc{constructor(e,n){super(e,n,new mc,!1)}get parent(){const e=Qm(this._path);return e===null?null:new Kt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Zi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new K(e),r=Hr(this.ref,e);return new Zi(this._node.getChild(n),r,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Zi(i,Hr(this.ref,r),ge)))}hasChild(e){const n=new K(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function At(t,e){return t=Vr(t),t._checkNotDeleted("ref"),e!==void 0?Hr(t._root,e):t._root}function Hr(t,e){return t=Vr(t),j(t._path)===null?zw("child","path",e,!1):kg("child","path",e,!1),new Kt(t._repo,me(t._path,e))}function rC(t,e){t=Vr(t),Ac("push",t._path),Sg("push",e,t._path,!0);const n=Ng(t._repo),r=tC(n),i=Hr(t,r),s=Hr(t,r);let o;return e!=null?o=Hc(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function iC(t){return Ac("remove",t._path),Hc(t,null)}function Hc(t,e){t=Vr(t),Ac("set",t._path),Sg("set",e,t._path,!1);const n=new is;return Vw(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ql(t,e){Mw("update",e,t._path,!1);const n=new is;return qw(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Uc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Ag("value",this,new Zi(e.snapshotNode,new Kt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Mg(this,e,n):null}matches(e){return e instanceof Uc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Bc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Mg(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");const r=Hr(new Kt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Ag(e.type,this,new Zi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function zg(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(h,d)=>{$h(t._repo,t,l),a(h,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new nC(n,s||void 0),l=e==="value"?new Uc(o):new Bc(e,o);return Qw(t._repo,t,l),()=>$h(t._repo,t,l)}function Gh(t,e,n,r){return zg(t,"value",e,n,r)}function sC(t,e,n,r){return zg(t,"child_added",e,n,r)}sw(Kt);dw(Kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="FIREBASE_DATABASE_EMULATOR_HOST",lu={};let lC=!1;function aC(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=rc(s);t.repoInfo_=new jm(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function uC(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Vh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[oC]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Vh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const h=i&&a?new Er(Er.OWNER):new w0(t.name,t.options,e);Ow("Invalid Firebase Database URL",o),U(o.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=dC(l,t,h,new L0(t,n));return new hC(d,t)}function cC(t,e){const n=lu[e];(!n||n[t.key]!==t)&&Qt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Yw(t),delete n[t.key]}function dC(t,e,n,r){let i=lu[e.name];i||(i={},lu[e.name]=i);let s=i[t.toURLString()];return s&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Bw(t,lC,n,r),i[t.toURLString()]=s,s}class hC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ww(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kt(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qt("Cannot call "+e+" on a deleted database.")}}function fC(t=q_(),e){const n=U_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Iv("database");r&&pC(n,...r)}return n}function pC(t,e,n,r={}){t=Vr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&go(r,s.repoInfo_.emulatorOptions))return;Qt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Er(Er.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:Nv(r.mockUserToken,t.app.options.projectId);o=new Er(l)}rc(e)&&(Tv(e),Dv("Database",!0)),aC(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){s0(V_),vo(new $i("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return uC(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Cr(hh,fh,t),Cr(hh,fh,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={".sv":"timestamp"};function Gl(){return gC}Bt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Bt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mC();const yC={apiKey:"AIzaSyAeg700zLPvBv_SIZxHy8MLjYB2RCCvwao",authDomain:"studyspark-959ac.firebaseapp.com",databaseURL:"https://studyspark-959ac-default-rtdb.firebaseio.com",projectId:"studyspark-959ac",storageBucket:"studyspark-959ac.firebasestorage.app",messagingSenderId:"529045127702",appId:"1:529045127702:web:2e193893d46b8f262beb37",measurementId:"G-LS0N6CSZGN"},vC=Cm(yC),Mt=fC(vC),_C=()=>{var $c,Vc;const[t,e]=ce.useState(null),[n,r]=ce.useState(null),[i,s]=ce.useState(0),[o,l]=ce.useState(0),[a,u]=ce.useState([]),[h,d]=ce.useState([]),[c,g]=ce.useState([]),[v,L]=ce.useState(0),[b,p]=ce.useState("DRAW"),[f,m]=ce.useState([]),[w,T]=ce.useState(null),[k,_]=ce.useState("OFFLINE"),[x,O]=ce.useState(""),[I,X]=ce.useState(1),[re,En]=ce.useState(null),cs=(c==null?void 0:c[v])||{name:"Connecting...",hand:[],melds:[],id:-1,score:0,isHost:!1},ol=k==="OFFLINE"||(($c=c==null?void 0:c[v])==null?void 0:$c.id)===I,Yr=((Vc=c==null?void 0:c.find(S=>S.id===I))==null?void 0:Vc.hand)||[],Sn=n?n.problems[i]:null;let N="";if(t==="LESSON"&&Sn&&o>0){const S=Sn.solutions[0];o===1?N=`Length: ${S.length} characters`:o===2?N=`Starts with: "${S[0]}"`:o>=3&&(N=`Answer: ${S}`)}const D=S=>{T(S),setTimeout(()=>T(null),4e3)},F=S=>{let A=5;const M=S.map(Y=>Y.hanzi).join(""),R=S.some(Y=>Y.isPronoun||Y.type==="noun"),W=S.some(Y=>Y.type==="verb"||Y.hanzi===""||Y.hanzi===""),ue=S.filter(Y=>Y.type==="noun"||Y.type==="adj").length>=1;R&&W&&ue&&(A+=15),S.some(Y=>Y.isModifier)&&(A+=10);const Z=["","","",""],Ze=S.filter(Y=>Z.includes(Y.hanzi)).length;return Ze>0&&(A*=Math.pow(2,Ze)),(M.includes("")&&M.includes("")||M.includes("")&&M.includes(""))&&(A*=2),A},ae=S=>{if(S.length<2)return{isValid:!1,error:"Sentence too short (min 2 words)"};const A=S.length-1,M=S.some(q=>q.type==="verb"),R=S.some(q=>q.type==="adj"),W=S.some(q=>q.hanzi===""),ue=S.some(q=>q.hanzi==="");if(!M&&!R&&!W&&!ue)return{isValid:!1,error:"Missing Action: Every sentence needs a verb or 'is'."};for(let q=0;q<S.length;q++){const pt=S[q],je=q>0?S[q-1]:null;if(pt.isUnit){if(q===0)return{isValid:!1,error:`Grammar: Unit '${pt.hanzi}' cannot start a sentence.`};const oe=(je==null?void 0:je.isNumber)||["","","","","","","","","","","",""].includes((je==null?void 0:je.hanzi)||""),Te=(je==null?void 0:je.isDemonstrative)||["","",""].includes((je==null?void 0:je.hanzi)||"");if(!oe&&!Te)return{isValid:!1,error:`Grammar: Unit '${pt.hanzi}' needs a number or 'this/that' before it.`}}if(pt.isModifier){if(q===0&&pt.hanzi!=="")return{isValid:!1,error:`Start Error: Sentences cannot start with modifier '${pt.hanzi}'.`};const oe=q<S.length-1?S[q+1]:null,Te=oe==null?void 0:oe.type,mt=pt.hanzi===""?["verb","adj","noun"]:["verb","adj"];if(!oe||!mt.includes(Te||""))return{isValid:!1,error:pt.hanzi===""?"Grammar: '' must be followed by a Noun, Verb, or Adjective.":`Grammar: Modifier '${pt.hanzi}' must be followed by a Verb or Adjective.`}}}const Z=S[A];if(Z.isTransitive)return{isValid:!1,error:`Incomplete Thought: Transitive verb '${Z.hanzi}' needs an object.`};const Ze=S.filter(q=>q.isTime),$=S.filter(q=>q.isPronoun);if(Ze.length>0&&$.length>0){const q=S[0];if(!q.isTime&&!q.isPronoun)return{isValid:!1,error:"Word Order: When using Time and Pronoun, one must start the sentence."}}const Y=["","","","","",""],ft=S.some(q=>Y.includes(q.hanzi)),ds=S.some(q=>q.hanzi==="");return ft&&ds?{isValid:!1,error:"Question Error: Don't use 'who/what' and 'ma' together."}:{isValid:!0,error:null}},ve=()=>Math.random().toString(36).substring(2,6).toUpperCase(),Xn=async S=>{const A=ve(),M=[{id:1,name:S+" (Host)",hand:[],melds:[],score:0,isHost:!0}],R={state:{players:M,deckCount:0,discardPile:[],currentTurn:0,phase:"DRAW",roomLocked:!1,lastUpdated:Gl(),hostId:A},members:{1:S}};try{console.log("Attempting to create lobby with ID:",A),await Hc(At(Mt,`rooms/${A}`),R),console.log("Lobby created successfully!"),g(M),O(A),_("HOST"),e("LOBBY"),X(1)}catch(W){console.error("Firebase Create Lobby Error:",W),D(`Failed to create room: ${W.message||"Unknown error"}`)}},bt=async(S,A)=>{const M=S.toUpperCase(),R=At(Mt,`rooms/${M}`);Gh(R,W=>{const ue=W.val();if(!ue){D("Room not found!");return}if(ue.state.roomLocked){D("Room is already in progress!");return}const Z=ue.state.players||[];if(Z.length>=4){D("Room is full!");return}if(!Z.find($=>$.name===A)&&k==="OFFLINE"){const $=Z.length+1,Y={id:$,name:A,hand:[],melds:[],score:0,isHost:!1},ft=[...Z,Y];ql(At(Mt,`rooms/${M}/state`),{players:ft}),ql(At(Mt,`rooms/${M}/members`),{[$]:A}),X($),O(M),_("CLIENT"),e("LOBBY")}},{onlyOnce:!0})};ce.useEffect(()=>{if(k!=="HOST"||!x)return;const S=At(Mt,`rooms/${x}/actions`),A=sC(S,M=>{const R=M.val();R&&(ll(R.action,R.playerId),iC(At(Mt,`rooms/${x}/actions/${M.key}`)))});return()=>A()},[k,x,c,a,h,v,b]),ce.useEffect(()=>{if(!x||k==="OFFLINE")return;const S=At(Mt,`rooms/${x}/state`),A=Gh(S,M=>{const R=M.val();R&&(g(R.players||[]),u(new Array(R.deckCount).fill({})),d(R.discardPile||[]),L(R.currentTurn),p(R.phase),En(R.challenge||null),t==="LOBBY"&&R.roomLocked&&e("SANDBOX"))});return()=>A()},[x,t,k]),ce.useEffect(()=>{if(k!=="HOST"||!x||b!=="CHALLENGE"||!re)return;const S=setInterval(()=>{Date.now()>=re.endTime&&(clearInterval(S),re.status==="CHALLENGED"?Fg():kn(re.meld))},500);return()=>clearInterval(S)},[k,x,b,re]);const ht=(S,A,M,R,W,ue=!0,Z=null)=>{k!=="HOST"||!x||ql(At(Mt,`rooms/${x}/state`),{players:S,deckCount:W,discardPile:R,currentTurn:M,phase:A,roomLocked:ue,lastUpdated:Gl(),challenge:Z})},Ae=S=>{k==="CLIENT"?rC(At(Mt,`rooms/${x}/actions`),{playerId:I,action:S,timestamp:Gl()}):ll(S,I)},kn=S=>{if(k!=="HOST")return;const A=v;let M=[...c];const R=M[A],W=F(S);R.melds=[...R.melds,S],R.score+=W,D(`Score Awarded: ${W}pts!`),ht(M,"DISCARD",v,h,a.length,!0,null)},Fg=()=>{if(k!=="HOST"||!re)return;const S=Object.values(re.votes),A=S.filter(R=>R===!0).length,M=S.filter(R=>R===!1).length;if(A>=M)D("Challenge Failed! Meld Accepted."),kn(re.meld);else{D("Challenge Successful! Meld Rejected.");let R=[...c];const W=R[v];W.hand=[...W.hand,...re.meld],ht(R,"DISCARD",v,h,a.length,!0,null)}},ll=(S,A)=>{if(k==="CLIENT")return;let M=[...c],R=[...h],W=[...a],ue=b,Z=v;const $=M[v];if(S.actionType==="CHALLENGE"){if(b!=="CHALLENGE"||!re||A===$.id)return;const Y={...re,challengerId:A,status:"CHALLENGED",endTime:Date.now()+1e4};ht(M,"CHALLENGE",v,R,W.length,!0,Y);return}if(S.actionType==="VOTE"){if(b!=="CHALLENGE"||!re||re.status!=="CHALLENGED")return;const Y={...re.votes,[A]:S.data},ft={...re,votes:Y};ht(M,"CHALLENGE",v,R,W.length,!0,ft);return}switch(S.actionType){case"DRAW_DECK":if(W.length===0)return;$.hand=[...$.hand,W[0]],W.shift(),ue="MELD";break;case"DRAW_DISCARD":if(R.length===0)return;$.hand=[...$.hand,R[0]],R.shift(),ue="MELD";break;case"MELD":const Y=S.data,ft=Y.map(oe=>{if(oe.type==="HAND")return $.hand[oe.identifier];const Te=wr.find(mt=>mt.id===oe.identifier);return Te?{...Te,id:`PU-${Te.id}-${Date.now()}`}:null}).filter(oe=>!!oe),ds=Y.filter(oe=>oe.type==="HAND").map(oe=>oe.identifier);if(t==="LESSON"&&n){const oe=ft.map(mt=>mt.hanzi).join("");if(n.problems[i].solutions.includes(oe)){$.score+=100,D(" Correct! +100pts"),$.hand=[];const mt=i+1;if(mt<n.problems.length){s(mt),l(0);const Zn=n.problems[mt],{riggedHand:jg,remainingDeck:Hg}=Wc(n,Zn);$.hand=jg,W=Hg}else{D(` Lesson Complete! Total Score: ${$.score}`),e(null);return}}else{D(" Grammatically incorrect or word order is off.");return}}else{const oe=ae(ft);if(!oe.isValid){D(` ${oe.error}`);return}if(k==="HOST"&&M.length>1){$.hand=$.hand.filter((mt,Zn)=>!ds.includes(Zn));const Te={meld:ft,challengerId:null,status:"PENDING",endTime:Date.now()+5e3,votes:{}};ue="CHALLENGE",ht(M,"CHALLENGE",v,R,W.length,!0,Te);return}else{const Te=F(ft);$.melds=[...$.melds,ft],$.hand=$.hand.filter((mt,Zn)=>!ds.includes(Zn)),$.score+=Te,D(` Correct Construction! +${Te}pts`),ue="DISCARD"}}break;case"SKIP":ue="DISCARD";break;case"DISCARD":const q=S.data,pt=$.hand[q];$.hand=$.hand.filter((oe,Te)=>Te!==q),R=[pt,...R],M.length>1&&(Z=(Z+1)%M.length),ue="DRAW";break;case"SORT":const je={noun:1,verb:2,adj:3,grammar:4,wild:5};$.hand.sort((oe,Te)=>je[oe.type]-je[Te.type]);break}k==="OFFLINE"||t==="LESSON"?(g(M),d(R),u(W),p(ue),L(Z)):k==="HOST"&&ht(M,ue,Z,R,W.length,!0)},Wc=(S,A)=>{const M=A.requiredCardIds.map((Z,Ze)=>{const $=wr.find(Y=>Y.id===Z);return $?{...$,id:`L-${Z}-${Ze}`}:null}).filter(Boolean),R=6,W=S.vocabularyIds.map(Z=>wr.find(Ze=>Ze.id===Z)).filter(Boolean),ue=[];for(let Z=0;Z<R;Z++){const Ze=W[Math.floor(Math.random()*W.length)];ue.push({...Ze,id:`D-${Ze.id}-${Z}`})}return{riggedHand:[...M,...ue].sort(()=>Math.random()-.5),remainingDeck:Al(20)}};return{mode:t,activeLesson:n,currentProblem:Sn,currentProblemIndex:i,players:c,currentPlayer:cs,currentTurn:v,deck:a,discardPile:h,phase:b,selectionQueue:f,message:w,role:k,roomId:x,myPlayerId:I,myHand:Yr,isMyTurn:ol,activeHint:N,challengeState:re,createLobby:Xn,joinLobby:bt,startGame:()=>{if(k!=="HOST")return;const S=Al(80);let A=0;const M=c.map(ue=>{const Z=S.slice(A,A+10);return A+=10,{...ue,hand:Z,score:0}}),R=S.slice(A+1),W=[S[A]];u(R),d(W),g(M),p("DRAW"),L(0),e("SANDBOX"),ht(M,"DRAW",0,W,R.length,!0,null)},startOfflineSandbox:()=>{_("OFFLINE");const S=Al(80);g([{id:1,name:"Student",hand:S.slice(0,10),melds:[],score:0,isHost:!0}]),d([S[10]]),u(S.slice(11)),p("DRAW"),L(0),e("SANDBOX"),X(1)},startLesson:S=>{const A=am.find(W=>W.id===S);if(!A)return;_("OFFLINE"),s(0),l(0);const{riggedHand:M,remainingDeck:R}=Wc(A,A.problems[0]);g([{id:1,name:"Student",hand:M,melds:[],score:0,isHost:!0}]),u(R),d([]),p("MELD"),e("LESSON"),r(A),L(0),X(1),D(`Lesson Start: ${A.title}`)},getHint:()=>{!n||t!=="LESSON"||l(S=>Math.min(S+1,3))},exitToMenu:()=>{e(null),O(""),_("OFFLINE"),m([])},drawFromDeck:()=>Ae({actionType:"DRAW_DECK"}),drawFromDiscard:()=>Ae({actionType:"DRAW_DISCARD"}),toggleSelect:S=>{m(A=>{const M=A.find(R=>R.type==="HAND"&&R.identifier===S);return M?A.filter(R=>R!==M):[...A,{type:"HAND",identifier:S}]})},togglePowerUp:S=>{m(A=>{const M=A.find(R=>R.type==="SHELF"&&R.identifier===S);return M?A.filter(R=>R!==M):[...A,{type:"SHELF",identifier:S}]})},confirmMeld:()=>{Ae({actionType:"MELD",data:f}),m([])},skipMeld:()=>{Ae({actionType:"SKIP"}),m([])},discardCard:S=>{Ae({actionType:"DISCARD",data:S}),m([])},sortHand:()=>Ae({actionType:"SORT"}),triggerMessage:D,setSelectionQueue:m,challengeMeld:()=>Ae({actionType:"CHALLENGE"}),voteMeld:S=>Ae({actionType:"VOTE",data:S})}};function LC(){var L,b,p,f,m,w,T,k;const t=_C(),{currentPlayer:e,players:n,mode:r,role:i,isMyTurn:s,myHand:o,currentProblem:l,currentProblemIndex:a,activeLesson:u}=t,[h,d]=ce.useState(""),[c,g]=ce.useState(""),v=t.phase==="MELD"&&s||t.phase==="DRAW"&&s;if(!r)return y.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-[var(--color-bg-canvas)] p-6 gap-4 overflow-y-auto",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"font-zcool text-6xl text-[var(--color-stroke-primary)] animate-bounce",children:""}),y.jsx("p",{className:"text-[var(--color-stroke-primary)] font-bold opacity-60",children:"Mahjong Grammar"})]}),y.jsxs("div",{className:"main-menu-card flex flex-col gap-6 w-full max-w-md bg-white p-6 shadow-xl",children:[y.jsx("div",{children:y.jsxs("label",{className:"block text-xs font-bold uppercase text-[var(--color-stroke-primary)] mb-1",children:["Your Name",y.jsx("input",{name:"playerName",id:"playerName",type:"text",value:h,onChange:_=>d(_.target.value),placeholder:"Enter Name...",className:"w-full bg-[var(--color-bg-canvas)] border-2 border-[var(--color-stroke-primary)] rounded-lg p-3 font-bold focus:outline-none focus:ring-2 focus:ring-[var(--color-noun-blue)] mt-1"})]})}),y.jsx("div",{className:"h-[2px] bg-[var(--color-stroke-primary)] opacity-10 w-full"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>{if(!h)return t.triggerMessage("Enter a name first!");t.createLobby(h)},className:"w-full bg-[var(--color-verb-red)] text-white text-lg py-3 rounded-xl border-2 border-[var(--color-stroke-primary)] shadow-[4px_4px_0_var(--color-stroke-primary)] hover:translate-y-1 hover:shadow-none transition-all font-bold",children:"Host New Game"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:c,onChange:_=>g(_.target.value),placeholder:"Room Code",className:"flex-1 bg-[var(--color-bg-canvas)] border-2 border-[var(--color-stroke-primary)] rounded-lg p-3 font-bold uppercase"}),y.jsx("button",{onClick:()=>{if(!h)return t.triggerMessage("Enter a name first!");if(!c)return t.triggerMessage("Enter a room code!");t.joinLobby(c,h)},className:"bg-[var(--color-noun-blue)] text-white px-6 rounded-xl border-2 border-[var(--color-stroke-primary)] shadow-[4px_4px_0_var(--color-stroke-primary)] active:shadow-none active:translate-y-1 font-bold",children:"Join"})]})]}),y.jsx("div",{className:"text-center font-bold text-[var(--color-stroke-primary)] opacity-50 text-xs",children:"- OR -"}),y.jsx("button",{onClick:t.startOfflineSandbox,className:"w-full bg-[var(--color-func-yellow)] text-[var(--color-stroke-primary)] py-3 rounded-xl border-2 border-[var(--color-stroke-primary)] font-bold hover:brightness-110",children:"Offline Practice (Hot Seat)"}),y.jsxs("div",{className:"space-y-2 pt-4",children:[y.jsx("div",{className:"text-xs font-bold uppercase opacity-50",children:"Lessons"}),y.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:am.map(_=>y.jsxs("button",{onClick:()=>t.startLesson(_.id),className:"w-full bg-[var(--color-bg-canvas)] text-left p-2 rounded-lg border border-[var(--color-stroke-primary)]/30 hover:bg-white hover:border-[var(--color-stroke-primary)] transition-all flex justify-between items-center text-sm",children:[y.jsx("span",{className:"font-bold",children:_.title}),y.jsx("span",{className:"opacity-50",children:"Play "})]},_.id))})]})]})]});if((r==="SANDBOX"||r==="LESSON"||r==="LOBBY")&&(!n||n.length===0)){const _=r==="LOBBY"?"Initializing Room...":"Syncing Table...";return y.jsxs("div",{className:"flex flex-col h-screen items-center justify-center bg-[var(--color-bg-canvas)] gap-4",children:[y.jsx("div",{className:"font-zcool text-4xl animate-pulse text-[var(--color-stroke-primary)]",children:_}),y.jsx("div",{className:"text-sm font-bold opacity-50 uppercase tracking-widest text-[var(--color-stroke-primary)]/50",children:r==="LOBBY"?"Preparing your session":"Waiting for player data"})]})}return r==="LOBBY"?y.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-[var(--color-bg-canvas)] p-6",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl border-[3px] border-[var(--color-stroke-primary)] shadow-2xl max-w-lg w-full text-center space-y-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-zcool mb-2",children:"Lobby"}),i==="HOST"?y.jsxs("div",{className:"bg-[var(--color-func-yellow)] p-4 rounded-xl border-2 border-[var(--color-stroke-primary)] border-dashed",children:[y.jsx("div",{className:"text-xs uppercase font-bold opacity-60",children:"Room Code"}),y.jsx("div",{className:"text-4xl font-mono font-bold tracking-widest select-all",children:t.roomId}),y.jsx("div",{className:"text-xs mt-2 opacity-60",children:"Share this code with players on other iPads"})]}):y.jsx("div",{className:"animate-pulse font-bold text-[var(--color-noun-blue)]",children:"Waiting for Host to start..."})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"text-xs font-bold uppercase opacity-50 text-left",children:["Players (",(n==null?void 0:n.length)||0,"/4)"]}),n==null?void 0:n.map(_=>{var x;return y.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[var(--color-bg-canvas)] rounded-lg border border-[var(--color-stroke-primary)]/20",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--color-noun-blue)] text-white flex items-center justify-center font-bold",children:((x=_.name)==null?void 0:x[0])||"?"}),y.jsxs("span",{className:"font-bold",children:[_.name||"Unknown"," ",_.id===t.myPlayerId?"(You)":""]}),_.isHost&&y.jsx("span",{className:"text-xs bg-[var(--color-func-yellow)] px-2 py-0.5 rounded text-[var(--color-stroke-primary)] border border-black",children:"HOST"})]},_.id)})]}),y.jsxs("div",{className:"flex gap-4 pt-4",children:[y.jsx("button",{onClick:t.exitToMenu,className:"flex-1 py-3 font-bold opacity-50 hover:opacity-100",children:"Leave"}),i==="HOST"&&y.jsx("button",{onClick:t.startGame,disabled:((n==null?void 0:n.length)||0)<2,className:"flex-[2] bg-[var(--color-verb-red)] text-white font-bold py-3 rounded-xl border-2 border-[var(--color-stroke-primary)] shadow-[4px_4px_0_black] active:shadow-none active:translate-y-1 disabled:opacity-50 disabled:shadow-none",children:"Start Game"})]})]})}):y.jsxs("div",{className:"h-screen w-full flex flex-col bg-[var(--color-bg-canvas)] overflow-hidden",children:[t.message&&y.jsx("div",{className:"fixed top-28 left-1/2 -translate-x-1/2 z-50 flex justify-center pointer-events-none w-full px-4 animate-in slide-in-from-top-4",children:y.jsx("div",{className:"bg-[var(--color-stroke-primary)] text-white px-6 py-3 rounded-2xl font-bold shadow-2xl border-2 border-white text-center w-auto max-w-[90vw]",children:t.message})}),t.phase==="CHALLENGE"&&t.challengeState&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-[var(--color-bg-canvas)]/90 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:y.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl border-4 border-[var(--color-stroke-primary)] shadow-[0_12px_0_var(--color-stroke-primary)] p-8 flex flex-col items-center space-y-8",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h2",{className:"text-2xl font-bold uppercase tracking-widest text-[var(--color-verb-red)]",children:"Challenge Window"}),y.jsx("p",{className:"font-bold opacity-60",children:"Is this a valid Chinese sentence?"})]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-4 py-8 px-4 bg-[var(--color-bg-canvas)] rounded-2xl border-2 border-dashed border-[var(--color-stroke-primary)]/20 w-full",children:(b=(L=t.challengeState)==null?void 0:L.meld)==null?void 0:b.map((_,x)=>y.jsx(er,{card:_,size:"lg"},x))}),y.jsxs("div",{className:"flex flex-col items-center gap-2",children:[y.jsx("div",{className:"w-64 h-4 bg-[var(--color-bg-canvas)] rounded-full border-2 border-[var(--color-stroke-primary)] overflow-hidden",children:y.jsx("div",{className:"h-full bg-[var(--color-verb-red)] transition-all duration-500",style:{width:`${Math.max(0,(t.challengeState.endTime-Date.now())/5e3)*100}%`}})}),y.jsx("div",{className:"text-sm font-bold opacity-50",children:"Auto-accepting soon..."})]}),y.jsx("div",{className:"w-full flex flex-col gap-4",children:t.challengeState.status==="PENDING"?y.jsx("div",{className:"flex justify-center",children:t.myPlayerId!==t.players[t.currentTurn].id?y.jsx("button",{onClick:t.challengeMeld,className:"bg-[var(--color-verb-red)] text-white px-12 py-4 rounded-2xl border-2 border-[var(--color-stroke-primary)] shadow-[0_6px_0_var(--color-stroke-primary)] active:shadow-none active:translate-y-1 font-bold text-xl hover:brightness-110 transition-all",children:"Challenge!"}):y.jsx("div",{className:"text-[var(--color-noun-blue)] font-bold animate-pulse",children:"Waiting for peer review..."})}):y.jsxs("div",{className:"space-y-6 w-full",children:[y.jsx("div",{className:"text-center font-bold text-xl text-[var(--color-verb-red)] animate-bounce italic",children:"SENTENCE CHALLENGED!"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("button",{onClick:()=>t.voteMeld(!0),className:`py-6 rounded-2xl border-2 border-[var(--color-stroke-primary)] font-bold text-xl transition-all
                                                ${t.challengeState.votes[t.myPlayerId]===!0?"bg-[var(--color-adj-green)] text-white shadow-none translate-y-1":"bg-white shadow-[0_6px_0_var(--color-stroke-primary)] hover:brightness-95"}`,children:"Accept (Valid)"}),y.jsx("button",{onClick:()=>t.voteMeld(!1),className:`py-6 rounded-2xl border-2 border-[var(--color-stroke-primary)] font-bold text-xl transition-all
                                                ${t.challengeState.votes[t.myPlayerId]===!1?"bg-[var(--color-verb-red)] text-white shadow-none translate-y-1":"bg-white shadow-[0_6px_0_var(--color-stroke-primary)] hover:brightness-95"}`,children:"Reject (Error)"})]}),y.jsx("div",{className:"flex justify-center gap-2",children:(p=t.players)==null?void 0:p.map(_=>{var O,I,X;const x=(I=(O=t.challengeState)==null?void 0:O.votes)==null?void 0:I[_.id];return y.jsx("div",{className:`w-8 h-8 rounded-full border-2 border-[var(--color-stroke-primary)] flex items-center justify-center font-bold text-xs
                                                    ${x===!0?"bg-[var(--color-adj-green)] text-white":x===!1?"bg-[var(--color-verb-red)] text-white":"bg-gray-200 opacity-50"}`,children:((X=_.name)==null?void 0:X[0])||"?"},_.id)})})]})})]})}),y.jsxs("header",{className:"flex flex-col bg-[var(--color-bg-canvas)] shadow-sm z-10",children:[y.jsxs("div",{className:"p-3 flex justify-between items-center border-b border-[var(--color-stroke-primary)]/10",children:[y.jsx("button",{onClick:t.exitToMenu,className:"text-xs font-bold underline opacity-50 hover:opacity-100",children:" Leave"}),r==="LESSON"&&l?y.jsxs("div",{className:"flex flex-col items-center animate-in fade-in slide-in-from-top-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsxs("span",{className:"text-[10px] font-bold text-[var(--color-noun-blue)] uppercase tracking-wider",children:["Problem ",a+1," / ",u==null?void 0:u.problems.length]}),y.jsx("button",{onClick:t.getHint,className:"bg-[var(--color-func-yellow)] rounded-full w-5 h-5 flex items-center justify-center shadow-sm hover:scale-110 active:scale-95 text-xs",children:""})]}),y.jsx("span",{className:"font-zcool text-xl leading-none text-center px-4",children:l.prompt}),t.activeHint&&y.jsxs("div",{className:"mt-2 text-sm font-bold text-[var(--color-verb-red)] bg-white/50 px-3 py-1 rounded-lg border border-[var(--color-stroke-primary)]/20 animate-in fade-in slide-in-from-top-2",children:[" ",t.activeHint]})]}):y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("h1",{className:"font-zcool text-xl text-[var(--color-stroke-primary)]",children:""}),i!=="OFFLINE"&&y.jsxs("span",{className:"text-[10px] opacity-50 font-bold",children:["Room: ",t.roomId]})]}),y.jsx("div",{className:`
                px-3 py-1 rounded-full border-2 border-[var(--color-stroke-primary)] font-bold text-xs md:text-sm uppercase tracking-wider
                ${t.phase==="DRAW"?"bg-[var(--color-noun-blue)] text-white":""}
                ${t.phase==="MELD"?"bg-[var(--color-func-yellow)] text-[var(--color-stroke-primary)]":""}
                ${t.phase==="DISCARD"?"bg-[var(--color-verb-red)] text-white":""}
            `,children:t.phase})]}),y.jsx("div",{className:"flex justify-between items-center px-4 py-2 bg-[var(--color-bg-surface)]/50 overflow-x-auto no-scrollbar gap-2",children:n==null?void 0:n.map((_,x)=>{var I;const O=x===t.currentTurn;return y.jsxs("div",{className:`
                            flex flex-col items-center justify-center min-w-[70px] p-1 rounded-lg transition-all duration-300 relative
                            ${O?"bg-white shadow-[0_4px_0_var(--color-noun-blue)] border-2 border-[var(--color-noun-blue)] -translate-y-1":"opacity-60 grayscale scale-90"}
                        `,children:[_.id===t.myPlayerId&&y.jsx("div",{className:"absolute -top-2 bg-black text-white text-[8px] px-1 rounded",children:"YOU"}),y.jsx("div",{className:"text-xs font-bold text-[var(--color-stroke-primary)] mb-1 truncate max-w-[60px]",children:_.name}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold bg-[var(--color-stroke-primary)] text-white px-2 py-0.5 rounded-full",children:[y.jsx("span",{children:""}),y.jsx("span",{children:((I=_.hand)==null?void 0:I.length)||0})]}),y.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold bg-[var(--color-func-yellow)] text-[var(--color-stroke-primary)] px-2 py-0.5 rounded-full border border-black",children:[y.jsx("span",{children:""}),y.jsx("span",{children:_.score||0})]})]})]},_.id)})})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-96 transition-all duration-300",children:[y.jsxs("section",{className:"flex justify-center items-center gap-8 md:gap-16 py-2 min-h-[140px] max-w-5xl mx-auto w-full",children:[y.jsxs("div",{className:`relative group ${t.phase==="DRAW"&&s?"cursor-pointer animate-pulse":"opacity-50 grayscale cursor-not-allowed"}`,onClick:()=>{s?t.drawFromDeck():t.triggerMessage("Not your turn!")},children:[y.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 bg-[var(--color-stroke-primary)] rounded-[12px] flex items-center justify-center text-white font-zcool text-xl border-[3px] border-[var(--color-stroke-primary)] shadow-[0_6px_0_rgba(0,0,0,0.2)] transition-transform group-active:translate-y-1 group-active:shadow-none",children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-xl md:text-2xl",children:""}),y.jsx("span",{className:"text-xs md:text-sm mt-1",children:((f=t.deck)==null?void 0:f.length)||0})]})}),y.jsx("span",{className:"absolute -bottom-6 w-full text-center text-[10px] md:text-xs font-bold uppercase tracking-wider text-[var(--color-stroke-primary)]",children:"Draw"})]}),y.jsxs("div",{className:`relative ${t.phase==="DRAW"&&(((m=t.discardPile)==null?void 0:m.length)||0)>0&&s?"cursor-pointer":"cursor-default"}`,onClick:()=>{s&&t.drawFromDiscard()},children:[(((w=t.discardPile)==null?void 0:w.length)||0)>0?y.jsxs("div",{className:"relative",children:[y.jsx(er,{card:t.discardPile[0],size:"md"}),(((T=t.discardPile)==null?void 0:T.length)||0)>1&&y.jsx("div",{className:"absolute top-1 left-1 w-full h-full bg-white border-[3px] border-[var(--color-stroke-primary)] rounded-[12px] -z-10"})]}):y.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 border-[3px] border-dashed border-[var(--color-stroke-primary)] rounded-[12px] opacity-30 flex items-center justify-center",children:y.jsx("span",{className:"text-2xl opacity-50",children:""})}),y.jsx("span",{className:"absolute -bottom-6 w-full text-center text-[10px] md:text-xs font-bold uppercase tracking-wider text-[var(--color-stroke-primary)]",children:"Market"})]})]}),y.jsxs("section",{className:"space-y-6 max-w-5xl mx-auto w-full",children:[y.jsxs("div",{className:"flex items-center gap-2 opacity-50",children:[y.jsx("div",{className:"h-[2px] bg-[var(--color-stroke-primary)] flex-1"}),y.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-[var(--color-stroke-primary)]",children:r==="LESSON"?"Your Answer":"Table"}),y.jsx("div",{className:"h-[2px] bg-[var(--color-stroke-primary)] flex-1"})]}),y.jsx("div",{className:"flex flex-col gap-6 items-center",children:n==null?void 0:n.map(_=>{var x,O;return(((x=_==null?void 0:_.melds)==null?void 0:x.length)||0)===0?null:y.jsxs("div",{className:"relative bg-white/40 p-3 rounded-2xl border border-[var(--color-stroke-primary)]/10 w-full max-w-2xl",children:[y.jsx("div",{className:"absolute -top-3 left-3 bg-[var(--color-stroke-primary)] text-white text-[10px] px-2 py-0.5 rounded-full font-bold",children:(_==null?void 0:_.name)||"Unknown"}),y.jsx("div",{className:"flex flex-col gap-2 mt-2",children:(O=_.melds)==null?void 0:O.map((I,X)=>y.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1 justify-center",children:I==null?void 0:I.map(re=>y.jsx(er,{card:re,size:"sm"},re.id))},X))})]},(_==null?void 0:_.id)||Math.random())})})]})]}),y.jsx("div",{className:`
        fixed bottom-80 left-0 w-full px-4 py-2 flex justify-center gap-4 pointer-events-none z-40
        transition-all duration-300
        ${t.phase==="MELD"&&s?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}
      `,children:t.phase==="MELD"&&y.jsxs("div",{className:"flex gap-4 pointer-events-auto bg-[var(--color-bg-canvas)] p-2 rounded-2xl shadow-xl border-2 border-[var(--color-stroke-primary)]",children:[y.jsx("button",{onClick:t.confirmMeld,disabled:(((k=t.selectionQueue)==null?void 0:k.length)||0)<1,className:"bg-[var(--color-verb-red)] text-white px-6 py-2 rounded-xl font-bold border-2 border-[var(--color-stroke-primary)] shadow-[0_4px_0_#A05D49] active:translate-y-1 active:shadow-none disabled:opacity-50 disabled:shadow-none transition-all",children:r==="LESSON"?"Submit":"Meld"}),y.jsx("button",{onClick:t.skipMeld,className:"bg-[var(--color-bg-surface)] text-[var(--color-stroke-primary)] px-6 py-2 rounded-xl font-bold border-2 border-[var(--color-stroke-primary)] shadow-[0_4px_0_#ccc] active:translate-y-1 active:shadow-none transition-all",children:"Pass"})]})}),!s&&y.jsx("div",{className:"fixed bottom-80 w-full text-center pointer-events-none z-30",children:y.jsxs("span",{className:"bg-white/80 backdrop-blur text-[var(--color-stroke-primary)] px-4 py-2 rounded-full font-bold text-sm border border-[var(--color-stroke-primary)]",children:["Waiting for ",(e==null?void 0:e.name)||"Connecting...","..."]})}),v&&y.jsxs("div",{className:`
                fixed bottom-60 left-2 flex flex-col items-center p-2 bg-[#8FB996] border-2 border-[#2D5A27] rounded-xl shadow-lg z-40 transition-all
                ${t.phase==="DRAW"?"opacity-50 grayscale pointer-events-none":""}
          `,children:[y.jsx("div",{className:"text-[#1A3317] text-[10px] font-bold uppercase tracking-wider mb-2",children:"Core Words"}),y.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[40vh] overflow-y-auto no-scrollbar p-1",children:lm.map(_=>{const x=wr.find(I=>I.id===_);if(!x)return null;const O=t.selectionQueue.some(I=>I.type==="SHELF"&&I.identifier===_);return y.jsxs("div",{className:"scale-[1.05] relative",children:[y.jsx(er,{card:x,size:"sm",isSelected:O,onClick:()=>{t.phase==="DRAW"?t.triggerMessage("Draw first!"):t.togglePowerUp(_)}}),O&&y.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[var(--color-stroke-primary)] text-white text-[10px] px-1.5 rounded-full z-50",children:t.selectionQueue.findIndex(I=>I.type==="SHELF"&&I.identifier===_)+1})]},_)})})]}),y.jsxs("footer",{className:"hand-dock fixed bottom-0 w-full z-30 flex flex-col items-center",children:[(t.phase==="MELD"&&s||t.phase==="DRAW"&&s)&&y.jsxs("div",{className:`
                absolute -top-28 bg-[#5D4037] border-2 border-[#D4AF37] p-3 rounded-xl shadow-lg flex flex-col items-center max-w-[95vw] z-50 animate-in slide-in-from-bottom-4 transition-all
                ${t.phase==="DRAW"?"opacity-50 grayscale pointer-events-none":""}
            `,children:[y.jsxs("div",{className:"flex items-center gap-3 mb-1 w-full justify-between px-1",children:[y.jsx("span",{className:"text-[#D4AF37] text-[10px] font-bold uppercase tracking-wider",children:"Magic Shelf"}),y.jsx("span",{className:"text-white/80 text-[10px] font-mono",children:" +2 Pts |  x2 Mult"})]}),y.jsx("div",{className:"flex gap-2 overflow-x-auto w-full no-scrollbar pb-1",children:mv.map(_=>{const x=wr.find(I=>I.id===_);if(!x)return null;const O=t.selectionQueue.some(I=>I.type==="SHELF"&&I.identifier===_);return y.jsxs("div",{className:`scale-[1.15] mx-1.5 relative ${t.phase==="DRAW"?"cursor-not-allowed":""}`,children:[y.jsx(er,{card:x,size:"sm",isSelected:O,onClick:()=>{t.phase==="DRAW"?t.triggerMessage("Draw first!"):t.togglePowerUp(_)}}),O&&y.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-[var(--color-stroke-primary)] text-white text-[10px] px-1.5 rounded-full z-50",children:t.selectionQueue.findIndex(I=>I.type==="SHELF"&&I.identifier===_)+1})]},_)})})]}),y.jsxs("div",{className:"w-full flex justify-between items-center px-4 py-1",children:[y.jsx("div",{className:"w-8"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-12 h-1.5 bg-[var(--color-stroke-primary)] opacity-20 rounded-full mb-1"}),y.jsx("div",{className:"text-[10px] font-bold text-[var(--color-stroke-primary)] opacity-50 uppercase tracking-widest",children:"YOUR HAND"})]}),y.jsx("button",{onClick:t.sortHand,className:"text-[10px] font-bold bg-white/50 hover:bg-white px-2 py-1 rounded border border-[var(--color-stroke-primary)]",children:"Sort "})]}),y.jsx("div",{className:"w-full overflow-x-auto pb-6 px-4 no-scrollbar",children:y.jsx("div",{className:"flex gap-2 md:gap-4 min-w-max mx-auto px-4 justify-center",children:o==null?void 0:o.map((_,x)=>{var I;const O=(I=t.selectionQueue)==null?void 0:I.some(X=>X.type==="HAND"&&X.identifier===x);return y.jsxs("div",{className:"relative pt-4 transition-all duration-300",children:[O&&y.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-[var(--color-stroke-primary)] text-white text-[10px] px-1.5 rounded-full z-50",children:t.selectionQueue.findIndex(X=>X.type==="HAND"&&X.identifier===x)+1}),y.jsx("div",{className:`
                            absolute -top-1 left-1/2 -translate-x-1/2 text-xl z-40 transition-all duration-200
                            ${O?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}
                        `,children:""}),y.jsx(er,{card:_,isSelected:O,onClick:()=>{if(!s&&i!=="OFFLINE")return t.triggerMessage("Wait for your turn!");t.phase==="MELD"?t.toggleSelect(x):t.phase==="DISCARD"?t.discardCard(x):t.phase==="DRAW"&&t.triggerMessage("Draw first!")}})]},(_==null?void 0:_.id)||x)})})})]})]})}const Og=document.getElementById("root");if(!Og)throw new Error("Could not find root element to mount to");const wC=Ql.createRoot(Og);wC.render(y.jsx(ry.StrictMode,{children:y.jsx(LC,{})}));
